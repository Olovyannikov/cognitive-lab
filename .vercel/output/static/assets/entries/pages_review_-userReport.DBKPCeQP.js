import{a5 as M,a6 as F,aB as O,ab as V,ae as N,j as e,aC as B,B as I,az as $,aD as k,aj as H,w,aE as q,aF as W,W as G,A,O as Q,k as Z,n as X,X as Y,q as J,p as E,v as K,z as u,aG as ee,Y as ae,aH as p,u as te,e as T,Z as re,aI as se,S as f,au as oe,h as d,M as ie,i as ne,a as le,b as de,R as ce,c as pe,d as me,o as ue}from"../chunks/chunk-D4HLANBA.js";import{i as fe}from"../chunks/chunk-DsWTEMC-.js";import"../chunks/chunk-CqOiLJi4.js";import{s as v}from"../chunks/chunk-BrjlLq_n.js";import{T as xe}from"../chunks/chunk-CD_7mkq_.js";import{R as y}from"../chunks/chunk-CJV_opDU.js";import{N as ye}from"../chunks/chunk-2i8A2Wfn.js";import{I as he}from"../chunks/chunk-CpcN2mF4.js";/* empty css                      */import"../chunks/chunk-CzcYWzuz.js";import"../chunks/chunk-A2AluIPU.js";import"../chunks/chunk-DBQ3R7cM.js";import"../chunks/chunk-DtLa94aX.js";import"../chunks/chunk-D70cBfnA.js";import"../chunks/chunk-fdyRSynD.js";import"../chunks/chunk-SsiTcO1f.js";import"../chunks/chunk-CcRi4BOb.js";import"../chunks/chunk-BaJ2QHzz.js";import"../chunks/chunk-q2zwU3_c.js";import"../chunks/chunk-CSac1xwH.js";import"../chunks/chunk-DX_2ZBoS.js";import"../chunks/chunk-3B-y_MHH.js";import"../chunks/chunk-BO6Xzs5u.js";import"../chunks/chunk-DpB2_Uei.js";import"../chunks/chunk-D3EFvA6Y.js";import"../chunks/chunk-rkAEyc-z.js";/* empty css                      */import"../chunks/chunk-C3e4t58V.js";import"../chunks/chunk-cNAqu5UU.js";import"../chunks/chunk-CGG52H9N.js";import"../chunks/chunk-CZyYWdOc.js";import"../chunks/chunk-CPM-DByq.js";import"../chunks/chunk-BJ1bdiZa.js";import"../chunks/chunk-BKZx_Lqz.js";var C={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const U={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:O("overlay")},ve=H((t,{zIndex:s})=>({root:{"--lo-z-index":s==null?void 0:s.toString()}})),j=M((t,s)=>{const i=F("LoadingOverlay",U,t),{classNames:o,className:a,style:r,styles:n,unstyled:l,vars:x,transitionProps:m,loaderProps:S,overlayProps:c,visible:P,zIndex:R,...D}=i,_=V(),h=N({name:"LoadingOverlay",classes:C,props:i,className:a,style:r,classNames:o,styles:n,unstyled:l,vars:x,varsResolver:ve}),z={...U.overlayProps,...c};return e.jsx(B,{transition:"fade",...m,mounted:!!P,children:L=>e.jsxs(I,{...h("root",{style:L}),ref:s,...D,children:[e.jsx($,{...h("loader"),unstyled:l,...S}),e.jsx(k,{...z,...h("overlay"),darkHidden:!0,unstyled:l,color:(c==null?void 0:c.color)||_.white}),e.jsx(k,{...z,...h("overlay"),lightHidden:!0,unstyled:l,color:(c==null?void 0:c.color)||_.colors.dark[5]})]})})});j.classes=C;j.displayName="@mantine/core/LoadingOverlay";w({sid:"-kbq9ff",fn:()=>Q({effect:Z(t=>({url:A.REVIEWS_LIST,params:t}))}),name:"getReviewsQuery",method:"createQuery"});const g=w({sid:"-svza5k",fn:()=>q({effect:W(t=>({url:A.REVIEWS_LIST,method:G.POST,body:t}))}),name:"createReviewMutation",method:"createMutation"}),b=X(()=>{const t=Y({and:[],or:{name:"ReviewGate",sid:"-yz3ny4"}}),s=J({name:"reviewCreated",sid:"da1es3"}),i=E(!1,{name:"$isFormSubmittedSuccessfully",sid:"-n587c7"}),o=E(!1,{name:"$hasError",sid:"-8dfvvx"}),a=K(({message:r,isError:n})=>{ae.show({title:n?"Произошла ошибка":"Успешно!",message:r,color:n?"red":"blue"})},{name:"showMessageFx",sid:"bpryb"});return u({and:[{clock:s,target:g.start}],or:{sid:"-49p0ww"}}),u({and:[{clock:g.finished.success,fn:()=>!0,target:i}],or:{sid:"-3vedhi"}}),u({and:[{clock:t.close,fn:()=>!1,target:i}],or:{sid:"-3s3lxc"}}),u({and:[{clock:g.finished.failure,fn:({error:r})=>fe(r)?r.data.message:"Произошла ошибка",target:o}],or:{sid:"-3d95wl"}}),u({and:[{clock:i,filter:r=>r===!0,fn:()=>({message:"Отзыв успешно отправлен!",isError:!1}),target:a}],or:{sid:"-39yecf"}}),u({and:[{clock:o,filter:r=>r!==!1,fn:r=>({message:r===!1?"Произошла ошибка":r,isError:!0}),target:a}],or:{sid:"-2swry8"}}),u({and:[{clock:w({sid:"saqnvj",fn:()=>ee(o,300),name:"clock",method:"delay"}),target:o.reinit}],or:{sid:"-2bv5k1"}}),{reviewCreated:s,$isFormSubmittedSuccessfully:i,ReviewGate:t}}),ge=p.object({name:p.string().min(1,{message:"Имя обязательно"}),text:p.string().min(1,{message:"Текст отзыва обязателен"}),informativeness_rate:p.number().min(1,{message:"Поле обязательно"}),convenience_rate:p.number().min(1,{message:"Поле обязательно"}),accuracy_rate:p.number().min(1,{message:"Поле обязательно"}),recommendability_rate:p.number().min(1,{message:"Поле обязательно"}),satisfaction_rate:p.number().min(1,{message:"Поле обязательно"})}),Se=()=>{const{routeParams:{userReport:t}}=te(),[s,i]=T([b.reviewCreated,b.$isFormSubmittedSuccessfully]),o=T(g.$pending),a=re({mode:"controlled",initialValues:{name:"",text:"",user_report:t??"",informativeness_rate:0,convenience_rate:0,accuracy_rate:0,recommendability_rate:0,satisfaction_rate:0},validate:se(ge)}),r={name:"name",key:a.key("name"),label:"Имя",placeholder:"Как к вам обращаться?",...a.getInputProps("name")},n={name:"text",key:a.key("text"),label:"Ваш отзыв",placeholder:"Опишите ваш опыт прохождения теста",...a.getInputProps("text")},l={name:"informativeness_rate",key:a.key("informativeness_rate"),label:"Полнота информации",...a.getInputProps("informativeness_rate")},x={name:"convenience_rate",key:a.key("convenience_rate"),label:"Удобство прохождения",...a.getInputProps("convenience_rate")},m={name:"accuracy_rate",key:a.key("accuracy_rate"),label:"Точность результатов",...a.getInputProps("accuracy_rate")},S={name:"recommendability_rate",key:a.key("recommendability_rate"),label:"Готовность рекомендовать друзьям",...a.getInputProps("recommendability_rate")},c={name:"satisfaction_rate",key:a.key("satisfaction_rate"),label:"Удовлетворенность результатом",...a.getInputProps("satisfaction_rate")},P=a.onSubmit(R=>{s(R),i&&a.reset()});return{nameInputProps:r,textInputProps:n,informativenessRateRatingProps:l,convenienceRateProps:x,accuracyRateProps:m,recommendabilityRateProps:S,satisfactionRateProps:c,onSubmit:P,isLoading:o}},Pe=({slots:t})=>{const{nameInputProps:s,textInputProps:i,informativenessRateRatingProps:o,satisfactionRateProps:a,convenienceRateProps:r,accuracyRateProps:n,recommendabilityRateProps:l,onSubmit:x,isLoading:m}=Se();return e.jsxs(e.Fragment,{children:[e.jsx(j,{visible:m,overlayProps:{radius:"sm",blur:2}}),e.jsxs("form",{onSubmit:x,children:[e.jsxs(f,{className:v.stack,children:[e.jsx(oe,{radius:"xs",size:"md",classNames:v,...s}),e.jsx(xe,{rows:4,radius:"xs",size:"md",classNames:v,...i,mb:"md"}),e.jsxs(f,{gap:"3xl",children:[e.jsxs(f,{gap:"xxs",children:[e.jsx(d,{fw:"bold",children:o.label}),e.jsx(y,{size:"xl",...o}),o.error&&e.jsx(d,{fz:14,c:"red",children:"Поле обязательно"})]}),e.jsxs(f,{gap:"xxs",children:[e.jsx(d,{fw:"bold",children:r.label}),e.jsx(y,{size:"xl",...r}),r.error&&e.jsx(d,{fz:14,c:"red",children:"Поле обязательно"})]}),e.jsxs(f,{gap:"xxs",children:[e.jsx(d,{fw:"bold",children:n.label}),e.jsx(y,{size:"xl",...n}),n.error&&e.jsx(d,{fz:14,c:"red",children:"Поле обязательно"})]}),e.jsxs(f,{gap:"xxs",children:[e.jsx(d,{fw:"bold",children:l.label}),e.jsx(y,{size:"xl",...l}),l.error&&e.jsx(d,{fz:14,c:"red",children:"Поле обязательно"})]}),e.jsxs(f,{gap:"xxs",children:[e.jsx(d,{fw:"bold",children:a.label}),e.jsx(y,{size:"xl",...a}),a.error&&e.jsx(d,{fz:14,c:"red",children:"Поле обязательно"})]})]})]}),e.jsxs(I,{className:v.controls,children:[e.jsx(ie,{disabled:m,loading:m,type:"submit",children:"Отправить"}),t==null?void 0:t.action]})]})]})},Te=()=>{const[t]=T([b.$isFormSubmittedSuccessfully]);return e.jsxs(he,{title:t?"Спасибо за отзыв":"Оставьте отзыв",text:t?`Благодарим вас за то, что поделились своим мнением! 
Мы высоко ценим любую обратную связь и стараемся использовать её для улучшения нашего сервиса.`:"Поделитесь вашим мнением о прохождении теста. Будем рады услышать вас!",image:t?"/review/star":"/review/question-bubble",children:[!t&&e.jsx(Pe,{slots:{action:e.jsx(ye,{})}}),t&&e.jsx(e.Fragment,{children:"Спасибо за отзыв!"})]})};function be(){return e.jsx(Te,{})}const we=Object.freeze(Object.defineProperty({__proto__:null,default:be},Symbol.toStringTag,{value:"Module"})),oa={isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:{server:!0}}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/onRenderClient",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:ue}},onPageTransitionStart:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionStart.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:me}},onPageTransitionEnd:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionEnd.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:pe}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/review/@userReport/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:we}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/config",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},Layout:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/src/widgets/RootLayout/index.tsx",fileExportPathToShowToUser:["RootLayout"]}],valueSerialized:[{type:"pointer-import",value:ce}]},title:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","title"]},valueSerialized:{type:"js-serialized",value:"Cognitive Lab"}},lang:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","lang"]},valueSerialized:{type:"js-serialized",value:"ru"}},onBeforeRenderClient:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/pages/+onBeforeRenderClient.ts",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"plus-file",exportValues:de}]},Wrapper:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/pages/+Wrapper.tsx",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"plus-file",exportValues:le}]},reactStrictMode:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","reactStrictMode"]},valueSerialized:{type:"js-serialized",value:!1}},Loading:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/Loading",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:ne}}};export{oa as configValuesSerialized};
