import{k as B,l as V,b6 as $,ap as F,m as H,j as e,v as W,B as S,L as q,bN as A,n as G,P as Q,T as X,h as i,W as Z,$ as J,a1 as E,M as v,a5 as z,bO as K,be as Y,bP as f,bf as D,u as ee,e as T,a6 as te,bh as ae,S as m,aG as re,A as se,i as oe,a as ie,b as ne,R as le,c as de,d as ce,o as pe}from"../chunks/chunk-jwkHyPqB.js";import{P as me}from"../chunks/chunk-BXFcbdNE.js";import{s as x}from"../chunks/chunk-CWHWgX45.js";import{a as P,c as N,R as h}from"../chunks/chunk-DQJd72w-.js";import{s as y}from"../chunks/chunk-DbJyLhLd.js";import{T as ue,N as fe}from"../chunks/chunk-CxC1heHS.js";import{N as xe}from"../chunks/chunk-DJk42Nf4.js";import{I as he}from"../chunks/chunk-DTE0tTa_.js";import{s as ge}from"../chunks/chunk-CLIwDxtA.js";import{c as ye}from"../chunks/chunk-BBPDNn-0.js";import"../chunks/chunk-CPNI4C05.js";/* empty css                      */import"../chunks/chunk-CzcYWzuz.js";import"../chunks/chunk-DRY9zkUH.js";import"../chunks/chunk-B9aj60V7.js";import"../chunks/chunk-BFxkgyTb.js";import"../chunks/chunk-Bxk40HBS.js";import"../chunks/chunk-BYlX3Wk_.js";import"../chunks/chunk-Ctd1kwdX.js";import"../chunks/chunk-B1W2AE3s.js";import"../chunks/chunk-CeW6XL9H.js";import"../chunks/chunk-6rQrwLil.js";import"../chunks/chunk-DdXlt871.js";import"../chunks/chunk-CTI7mhPL.js";import"../chunks/chunk-DXiBzkON.js";import"../chunks/chunk-CcPkYSlP.js";import"../chunks/chunk-3L7g8qmj.js";import"../chunks/chunk-DUqgWGpU.js";import"../chunks/chunk-rkAEyc-z.js";/* empty css                      *//* empty css                      */import"../chunks/chunk-Bt3_YXwN.js";import"../chunks/chunk-NwYMz2pi.js";import"../chunks/chunk-CGG52H9N.js";import"../chunks/chunk-DQnv03Ih.js";var C={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const L={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:$("overlay")},ve=G((r,{zIndex:s})=>({root:{"--lo-z-index":s==null?void 0:s.toString()}})),_=B((r,s)=>{const a=V("LoadingOverlay",L,r),{classNames:o,className:t,style:d,styles:c,unstyled:n,vars:u,transitionProps:p,loaderProps:b,overlayProps:l,visible:j,zIndex:R,...M}=a,k=F(),g=H({name:"LoadingOverlay",classes:C,props:a,className:t,style:d,classNames:o,styles:c,unstyled:n,vars:u,varsResolver:ve}),U={...L.overlayProps,...l};return e.jsx(W,{transition:"fade",...p,mounted:!!j,children:O=>e.jsxs(S,{...g("root",{style:O}),ref:s,...M,children:[e.jsx(q,{...g("loader"),unstyled:n,...b}),e.jsx(A,{...U,...g("overlay"),darkHidden:!0,unstyled:n,color:(l==null?void 0:l.color)||k.white}),e.jsx(A,{...U,...g("overlay"),lightHidden:!0,unstyled:n,color:(l==null?void 0:l.color)||k.colors.dark[5]})]})})});_.classes=C;_.displayName="@mantine/core/LoadingOverlay";const w={title:"Спасибо за ваш отзыв!",description:"Спасибо за ваш отзыв!",image:"/images/success-base-man"},Se=({title:r=w.title,description:s=w.description,image:a=w.image,slots:o})=>e.jsxs(S,{className:x.box,children:[e.jsx(Q,{cdn:!0,className:x.image,w:145,"aria-hidden":!0,src:a,alt:r}),e.jsx(X,{className:x.title,order:3,children:r}),e.jsx(i,{className:x.text,children:s}),e.jsx(S,{className:x.action,children:o==null?void 0:o.action})]}),Te={back:()=>window.history.back()},Pe=Z({sid:"atb2mzgj",fn:()=>J(()=>{const r=E(!1,{sid:"1dbth5xl"}),s=E([],{sid:"90h4eiiz"});return v({and:[{clock:z.finished.success,fn:({result:a})=>(a==null?void 0:a.left_comments)??[],target:s}],or:{sid:"3ldfkz6t"}}),v({and:[{clock:s,source:P.$currentReviewId,fn:(a,o)=>!!(o!=null&&o.filter(({user_report:t})=>t===a).length),target:r}],or:{sid:"arg70agu"}}),v({and:[{clock:N.finished.success,fn:K,target:z.refresh}],or:{sid:"3ezd1jou"}}),{$isSubmitted:r}})}),be=Y({name:D().min(1,{message:"Имя обязательно"}),text:D().min(1,{message:"Текст отзыва обязателен"}),informativeness_rate:f().min(1,{message:"Поле обязательно"}),convenience_rate:f().min(1,{message:"Поле обязательно"}),accuracy_rate:f().min(1,{message:"Поле обязательно"}),recommendability_rate:f().min(1,{message:"Поле обязательно"}),satisfaction_rate:f().min(1,{message:"Поле обязательно"})}),je=()=>{const{routeParams:{userReport:r}}=ee(),[s,a]=T([P.reviewCreated,P.$isFormSubmittedSuccessfully]),o=T(N.$pending),t=te({mode:"controlled",initialValues:{name:"",text:"",user_report:r??"",informativeness_rate:0,convenience_rate:0,accuracy_rate:0,recommendability_rate:0,satisfaction_rate:0},validate:ae(be)}),d={name:"name",key:t.key("name"),label:"Имя",placeholder:"Как к вам обращаться?",...t.getInputProps("name")},c={name:"text",key:t.key("text"),label:"Ваш отзыв",placeholder:"Опишите ваш опыт прохождения теста",...t.getInputProps("text")},n={name:"informativeness_rate",key:t.key("informativeness_rate"),label:"Полнота информации",...t.getInputProps("informativeness_rate")},u={name:"convenience_rate",key:t.key("convenience_rate"),label:"Удобство прохождения",...t.getInputProps("convenience_rate")},p={name:"accuracy_rate",key:t.key("accuracy_rate"),label:"Точность результатов",...t.getInputProps("accuracy_rate")},b={name:"recommendability_rate",key:t.key("recommendability_rate"),label:"Готовность рекомендовать друзьям",...t.getInputProps("recommendability_rate")},l={name:"satisfaction_rate",key:t.key("satisfaction_rate"),label:"Удовлетворенность результатом",...t.getInputProps("satisfaction_rate")},j=t.onSubmit(R=>{s(R),a&&t.reset()});return{nameInputProps:d,textInputProps:c,informativenessRateRatingProps:n,convenienceRateProps:u,accuracyRateProps:p,recommendabilityRateProps:b,satisfactionRateProps:l,onSubmit:j,isLoading:o}},we=({slots:r})=>{const{nameInputProps:s,textInputProps:a,informativenessRateRatingProps:o,satisfactionRateProps:t,convenienceRateProps:d,accuracyRateProps:c,recommendabilityRateProps:n,onSubmit:u,isLoading:p}=je();return e.jsxs(e.Fragment,{children:[e.jsx(_,{visible:p,overlayProps:{radius:"sm",blur:2}}),e.jsxs("form",{onSubmit:u,children:[e.jsxs(m,{className:y.stack,children:[e.jsx(re,{radius:"xs",size:"md",classNames:y,...s}),e.jsx(ue,{rows:4,radius:"xs",size:"md",classNames:y,...a,mb:"md"}),e.jsxs(m,{gap:"3xl",children:[e.jsxs(m,{gap:"xxs",children:[e.jsx(i,{fw:"bold",children:o.label}),e.jsx(h,{size:"xl",...o}),o.error&&e.jsx(i,{fz:14,c:"red",children:"Поле обязательно"})]}),e.jsxs(m,{gap:"xxs",children:[e.jsx(i,{fw:"bold",children:d.label}),e.jsx(h,{size:"xl",...d}),d.error&&e.jsx(i,{fz:14,c:"red",children:"Поле обязательно"})]}),e.jsxs(m,{gap:"xxs",children:[e.jsx(i,{fw:"bold",children:c.label}),e.jsx(h,{size:"xl",...c}),c.error&&e.jsx(i,{fz:14,c:"red",children:"Поле обязательно"})]}),e.jsxs(m,{gap:"xxs",children:[e.jsx(i,{fw:"bold",children:n.label}),e.jsx(h,{size:"xl",...n}),n.error&&e.jsx(i,{fz:14,c:"red",children:"Поле обязательно"})]}),e.jsxs(m,{gap:"xxs",children:[e.jsx(i,{fw:"bold",children:t.label}),e.jsx(h,{size:"xl",...t}),t.error&&e.jsx(i,{fz:14,c:"red",children:"Поле обязательно"})]})]})]}),e.jsxs(S,{className:y.controls,children:[e.jsx(se,{size:"md",disabled:p,loading:p,type:"submit",children:"Отправить"}),r==null?void 0:r.action]})]})]})},ze=()=>{const{pending:r,stale:s}=T(z),[a]=T([Pe.$isSubmitted]);return r||s?e.jsx(me,{}):e.jsxs(he,{maw:850,className:a?ge.root:"",title:!a&&"Оставьте отзыв",text:!a&&"Поделитесь вашим мнением о прохождении теста. Будем рады услышать вас!",image:a?void 0:"/review/question-bubble",children:[!a&&e.jsx(we,{slots:{action:e.jsx(xe,{})}}),a&&e.jsx(Se,{description:"Благодарим вас за то, что поделились своим мнением! Мы высоко ценим любую обратную связь и стараемся использовать её для улучшения нашего сервиса.",image:"/review/star",slots:{action:e.jsx(fe,{size:"md",onClick:()=>Te.back(),fullWidth:!0,children:"Вернуться назад"})}})]})};function _e(){return e.jsx(ze,{})}const Re=Object.freeze(Object.defineProperty({__proto__:null,default:_e},Symbol.toStringTag,{value:"Module"})),I=ye();v({and:[{clock:I,fn:({routeParams:r})=>r.userReport,target:P.$currentReviewId}],or:{sid:"3pgxwx5n"}});const ke=Object.freeze(Object.defineProperty({__proto__:null,pageStarted:I},Symbol.toStringTag,{value:"Module"})),pt={isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:{server:!0}}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/onRenderClient",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:pe}},onPageTransitionStart:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionStart.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:ce}},onPageTransitionEnd:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionEnd.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:de}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/review/@userReport/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:Re}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/config",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},prefetchStaticAssets:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","prefetchStaticAssets"]},valueSerialized:{type:"js-serialized",value:"viewport"}},Layout:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/src/widgets/RootLayout/index.tsx",fileExportPathToShowToUser:["RootLayout"]}],valueSerialized:[{type:"pointer-import",value:le}]},title:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","title"]},valueSerialized:{type:"js-serialized",value:"CognitiveLab — тест на тип личности и выбор профессии"}},lang:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","lang"]},valueSerialized:{type:"js-serialized",value:"ru"}},onBeforeRenderClient:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/pages/+onBeforeRenderClient.ts",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"plus-file",exportValues:ne}]},Wrapper:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/pages/+Wrapper.tsx",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"plus-file",exportValues:ie}]},reactStrictMode:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","reactStrictMode"]},valueSerialized:{type:"js-serialized",value:!1}},Loading:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/Loading",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:oe}},pageStarted:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/review/@userReport/+pageStarted.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:ke}}};export{pt as configValuesSerialized};
