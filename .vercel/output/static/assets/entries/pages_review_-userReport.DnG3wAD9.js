import{a3 as V,a4 as $,aU as B,a9 as O,ac as F,j as e,bf as H,B as S,bg as q,bh as A,ah as W,P as Q,T as G,k as i,G as K,K as E,M as v,Q as z,bi as X,bj as d,u as Z,f as b,V as J,bk as Y,S as u,aA as ee,a as te,i as ae,b as re,c as se,R as oe,d as ie,e as ne,o as le}from"../chunks/chunk-B_ojf0d1.js";import{P as de}from"../chunks/chunk-BmHk3031.js";import{s as x}from"../chunks/chunk-CWHWgX45.js";import{a as P,c as L,R as h}from"../chunks/chunk-nThMQnW3.js";import{s as y}from"../chunks/chunk-DbJyLhLd.js";import{T as ce,N as pe}from"../chunks/chunk-Dh7ZTHmq.js";import{N as me}from"../chunks/chunk-BMUq2WZp.js";import{I as ue}from"../chunks/chunk-Cz2JKKwn.js";import{s as fe}from"../chunks/chunk-CLIwDxtA.js";import{c as xe}from"../chunks/chunk-DYjjqmxK.js";/* empty css                      */import"../chunks/chunk-29jJm_BG.js";import"../chunks/chunk-CzcYWzuz.js";import"../chunks/chunk-DRY9zkUH.js";import"../chunks/chunk-B9aj60V7.js";import"../chunks/chunk-BFxkgyTb.js";import"../chunks/chunk-Bxk40HBS.js";import"../chunks/chunk-BYlX3Wk_.js";import"../chunks/chunk-Ctd1kwdX.js";import"../chunks/chunk-C0bUoLhL.js";import"../chunks/chunk-CeW6XL9H.js";import"../chunks/chunk-6rQrwLil.js";import"../chunks/chunk-DdXlt871.js";import"../chunks/chunk-DG0DKeLE.js";import"../chunks/chunk-DXiBzkON.js";import"../chunks/chunk-CcPkYSlP.js";import"../chunks/chunk-3L7g8qmj.js";import"../chunks/chunk-DUqgWGpU.js";import"../chunks/chunk-rkAEyc-z.js";/* empty css                      *//* empty css                      */import"../chunks/chunk-BTXdZaaM.js";import"../chunks/chunk-DsWTEMC-.js";import"../chunks/chunk-C3e4t58V.js";import"../chunks/chunk-BJ5H1YCq.js";import"../chunks/chunk-CGG52H9N.js";import"../chunks/chunk-DQnv03Ih.js";var N={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const D={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:B("overlay")},he=W((r,{zIndex:s})=>({root:{"--lo-z-index":s==null?void 0:s.toString()}})),_=V((r,s)=>{const a=$("LoadingOverlay",D,r),{classNames:o,className:t,style:c,styles:p,unstyled:n,vars:f,transitionProps:m,loaderProps:T,overlayProps:l,visible:j,zIndex:R,...I}=a,k=O(),g=F({name:"LoadingOverlay",classes:N,props:a,className:t,style:c,classNames:o,styles:p,unstyled:n,vars:f,varsResolver:he}),U={...D.overlayProps,...l};return e.jsx(H,{transition:"fade",...m,mounted:!!j,children:M=>e.jsxs(S,{...g("root",{style:M}),ref:s,...I,children:[e.jsx(q,{...g("loader"),unstyled:n,...T}),e.jsx(A,{...U,...g("overlay"),darkHidden:!0,unstyled:n,color:(l==null?void 0:l.color)||k.white}),e.jsx(A,{...U,...g("overlay"),lightHidden:!0,unstyled:n,color:(l==null?void 0:l.color)||k.colors.dark[5]})]})})});_.classes=N;_.displayName="@mantine/core/LoadingOverlay";const w={title:"Спасибо за ваш отзыв!",description:"Спасибо за ваш отзыв!",image:"/images/success-base-man.webp"},ge=({title:r=w.title,description:s=w.description,image:a=w.image,slots:o})=>e.jsxs(S,{className:x.box,children:[e.jsx(Q,{className:x.image,w:145,"aria-hidden":!0,src:a,alt:r}),e.jsx(G,{className:x.title,order:3,children:r}),e.jsx(i,{className:x.text,children:s}),e.jsx(S,{className:x.action,children:o==null?void 0:o.action})]}),ye={back:()=>window.history.back()},ve=K(()=>{const r=E(!1,{name:"$isSubmitted",sid:"-n5zpxd"}),s=E([],{name:"$comments",sid:"-tk2hgq"});return v({and:[{clock:z.finished.success,fn:({result:a})=>(a==null?void 0:a.left_comments)??[],target:s}],or:{sid:"xnhzlm"}}),v({and:[{clock:s,source:P.$currentReviewId,fn:(a,o)=>!!(o!=null&&o.filter(({user_report:t})=>t===a).length),target:r}],or:{sid:"xqsr5s"}}),v({and:[{clock:L.finished.success,fn:X,target:z.start}],or:{sid:"y66zrw"}}),{$isSubmitted:r}}),Se=d.object({name:d.string().min(1,{message:"Имя обязательно"}),text:d.string().min(1,{message:"Текст отзыва обязателен"}),informativeness_rate:d.number().min(1,{message:"Поле обязательно"}),convenience_rate:d.number().min(1,{message:"Поле обязательно"}),accuracy_rate:d.number().min(1,{message:"Поле обязательно"}),recommendability_rate:d.number().min(1,{message:"Поле обязательно"}),satisfaction_rate:d.number().min(1,{message:"Поле обязательно"})}),be=()=>{const{routeParams:{userReport:r}}=Z(),[s,a]=b([P.reviewCreated,P.$isFormSubmittedSuccessfully]),o=b(L.$pending),t=J({mode:"controlled",initialValues:{name:"",text:"",user_report:r??"",informativeness_rate:0,convenience_rate:0,accuracy_rate:0,recommendability_rate:0,satisfaction_rate:0},validate:Y(Se)}),c={name:"name",key:t.key("name"),label:"Имя",placeholder:"Как к вам обращаться?",...t.getInputProps("name")},p={name:"text",key:t.key("text"),label:"Ваш отзыв",placeholder:"Опишите ваш опыт прохождения теста",...t.getInputProps("text")},n={name:"informativeness_rate",key:t.key("informativeness_rate"),label:"Полнота информации",...t.getInputProps("informativeness_rate")},f={name:"convenience_rate",key:t.key("convenience_rate"),label:"Удобство прохождения",...t.getInputProps("convenience_rate")},m={name:"accuracy_rate",key:t.key("accuracy_rate"),label:"Точность результатов",...t.getInputProps("accuracy_rate")},T={name:"recommendability_rate",key:t.key("recommendability_rate"),label:"Готовность рекомендовать друзьям",...t.getInputProps("recommendability_rate")},l={name:"satisfaction_rate",key:t.key("satisfaction_rate"),label:"Удовлетворенность результатом",...t.getInputProps("satisfaction_rate")},j=t.onSubmit(R=>{s(R),a&&t.reset()});return{nameInputProps:c,textInputProps:p,informativenessRateRatingProps:n,convenienceRateProps:f,accuracyRateProps:m,recommendabilityRateProps:T,satisfactionRateProps:l,onSubmit:j,isLoading:o}},Pe=({slots:r})=>{const{nameInputProps:s,textInputProps:a,informativenessRateRatingProps:o,satisfactionRateProps:t,convenienceRateProps:c,accuracyRateProps:p,recommendabilityRateProps:n,onSubmit:f,isLoading:m}=be();return e.jsxs(e.Fragment,{children:[e.jsx(_,{visible:m,overlayProps:{radius:"sm",blur:2}}),e.jsxs("form",{onSubmit:f,children:[e.jsxs(u,{className:y.stack,children:[e.jsx(ee,{radius:"xs",size:"md",classNames:y,...s}),e.jsx(ce,{rows:4,radius:"xs",size:"md",classNames:y,...a,mb:"md"}),e.jsxs(u,{gap:"3xl",children:[e.jsxs(u,{gap:"xxs",children:[e.jsx(i,{fw:"bold",children:o.label}),e.jsx(h,{size:"xl",...o}),o.error&&e.jsx(i,{fz:14,c:"red",children:"Поле обязательно"})]}),e.jsxs(u,{gap:"xxs",children:[e.jsx(i,{fw:"bold",children:c.label}),e.jsx(h,{size:"xl",...c}),c.error&&e.jsx(i,{fz:14,c:"red",children:"Поле обязательно"})]}),e.jsxs(u,{gap:"xxs",children:[e.jsx(i,{fw:"bold",children:p.label}),e.jsx(h,{size:"xl",...p}),p.error&&e.jsx(i,{fz:14,c:"red",children:"Поле обязательно"})]}),e.jsxs(u,{gap:"xxs",children:[e.jsx(i,{fw:"bold",children:n.label}),e.jsx(h,{size:"xl",...n}),n.error&&e.jsx(i,{fz:14,c:"red",children:"Поле обязательно"})]}),e.jsxs(u,{gap:"xxs",children:[e.jsx(i,{fw:"bold",children:t.label}),e.jsx(h,{size:"xl",...t}),t.error&&e.jsx(i,{fz:14,c:"red",children:"Поле обязательно"})]})]})]}),e.jsxs(S,{className:y.controls,children:[e.jsx(te,{size:"md",disabled:m,loading:m,type:"submit",children:"Отправить"}),r==null?void 0:r.action]})]})]})},Te=()=>{const{pending:r,stale:s}=b(z),[a]=b([ve.$isSubmitted]);return r||s?e.jsx(de,{}):e.jsxs(ue,{maw:850,className:a?fe.root:"",title:!a&&"Оставьте отзыв",text:!a&&"Поделитесь вашим мнением о прохождении теста. Будем рады услышать вас!",image:a?void 0:"/review/question-bubble",children:[!a&&e.jsx(Pe,{slots:{action:e.jsx(me,{})}}),a&&e.jsx(ge,{description:"Благодарим вас за то, что поделились своим мнением! Мы высоко ценим любую обратную связь и стараемся использовать её для улучшения нашего сервиса.",image:"/review/star",slots:{action:e.jsx(pe,{size:"md",onClick:()=>ye.back(),fullWidth:!0,children:"Вернуться назад"})}})]})};function je(){return e.jsx(Te,{})}const we=Object.freeze(Object.defineProperty({__proto__:null,default:je},Symbol.toStringTag,{value:"Module"})),C=xe();v({and:[{clock:C,fn:({routeParams:r})=>r.userReport,target:P.$currentReviewId}],or:{sid:"-ombeai"}});const ze=Object.freeze(Object.defineProperty({__proto__:null,pageStarted:C},Symbol.toStringTag,{value:"Module"})),ct={isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:{server:!0}}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/onRenderClient",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:le}},onPageTransitionStart:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionStart.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:ne}},onPageTransitionEnd:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionEnd.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:ie}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/review/@userReport/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:we}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/config",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},prefetchStaticAssets:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","prefetchStaticAssets"]},valueSerialized:{type:"js-serialized",value:"viewport"}},Layout:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/src/widgets/RootLayout/index.tsx",fileExportPathToShowToUser:["RootLayout"]}],valueSerialized:[{type:"pointer-import",value:oe}]},title:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","title"]},valueSerialized:{type:"js-serialized",value:"CognitiveLab — тест на тип личности и выбор профессии"}},lang:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","lang"]},valueSerialized:{type:"js-serialized",value:"ru"}},onBeforeRenderClient:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/pages/+onBeforeRenderClient.ts",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"plus-file",exportValues:se}]},Wrapper:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/pages/+Wrapper.tsx",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"plus-file",exportValues:re}]},reactStrictMode:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","reactStrictMode"]},valueSerialized:{type:"js-serialized",value:!1}},Loading:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/Loading",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:ae}},pageStarted:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/review/@userReport/+pageStarted.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:ze}}};export{ct as configValuesSerialized};
