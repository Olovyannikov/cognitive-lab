import{a5 as q,a6 as N,aB as O,ab as V,ae as B,j as e,aC as H,B as D,az as W,aD as I,aj as Q,ar as _,q as j,p as x,aE as Z,aF as G,z as m,w as E,aG as J,aH as Y,W as K,A as L,O as X,k as ee,n as te,v as ae,Y as re,aI as z,u as oe,e as C,Z as se,aJ as ie,S as h,au as ne,h as b,M as le,i as de,a as ce,b as me,R as ue,c as pe,d as fe,o as ge}from"../chunks/chunk-D_Jobeee.js";import"../chunks/chunk-BYHs4wmI.js";import{s as w}from"../chunks/chunk-BrjlLq_n.js";import{T as he}from"../chunks/chunk-BLBWoCQU.js";import{R as P}from"../chunks/chunk-DOMwnf67.js";import{N as ye}from"../chunks/chunk-EqI-RekO.js";import{I as ve}from"../chunks/chunk-C3L-DyIX.js";/* empty css                      */import"../chunks/chunk-CzcYWzuz.js";import"../chunks/chunk-A2AluIPU.js";import"../chunks/chunk-DBQ3R7cM.js";import"../chunks/chunk-DtLa94aX.js";import"../chunks/chunk-D70cBfnA.js";import"../chunks/chunk-fdyRSynD.js";import"../chunks/chunk-SsiTcO1f.js";import"../chunks/chunk-CcRi4BOb.js";import"../chunks/chunk-BaJ2QHzz.js";import"../chunks/chunk-q2zwU3_c.js";import"../chunks/chunk-CSac1xwH.js";import"../chunks/chunk-DX_2ZBoS.js";import"../chunks/chunk-3B-y_MHH.js";import"../chunks/chunk-BO6Xzs5u.js";import"../chunks/chunk-DpB2_Uei.js";import"../chunks/chunk-D3EFvA6Y.js";import"../chunks/chunk-rkAEyc-z.js";/* empty css                      */import"../chunks/chunk-DGP_aTDT.js";import"../chunks/chunk-CGG52H9N.js";import"../chunks/chunk-C9_Fva3i.js";import"../chunks/chunk-CPM-DByq.js";import"../chunks/chunk-Ccy68Yyz.js";import"../chunks/chunk-BKZx_Lqz.js";var F={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const A={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:O("overlay")},xe=Q((t,{zIndex:o})=>({root:{"--lo-z-index":o==null?void 0:o.toString()}})),U=q((t,o)=>{const r=N("LoadingOverlay",A,t),{classNames:s,className:a,style:c,styles:u,unstyled:n,vars:f,transitionProps:l,loaderProps:p,overlayProps:d,visible:y,zIndex:v,...R}=r,g=V(),i=B({name:"LoadingOverlay",classes:F,props:r,className:a,style:c,classNames:s,styles:u,unstyled:n,vars:f,varsResolver:xe}),T={...A.overlayProps,...d};return e.jsx(H,{transition:"fade",...l,mounted:!!y,children:S=>e.jsxs(D,{...i("root",{style:S}),ref:o,...R,children:[e.jsx(W,{...i("loader"),unstyled:n,...p}),e.jsx(I,{...T,...i("overlay"),darkHidden:!0,unstyled:n,color:(d==null?void 0:d.color)||g.white}),e.jsx(I,{...T,...i("overlay"),lightHidden:!0,unstyled:n,color:(d==null?void 0:d.color)||g.colors.dark[5]})]})})});U.classes=F;U.displayName="@mantine/core/LoadingOverlay";function Te(){var t,o=arguments.length===2?{source:arguments.length<=0?void 0:arguments[0],timeout:arguments.length<=1?void 0:arguments[1]}:arguments.length<=0?void 0:arguments[0],{source:r,timeout:s,target:a,name:c}=o;if(!_.unit(r))throw new TypeError("source must be unit from effector");if(_.domain(r,{sid:"jsc7s2"}))throw new TypeError("source cannot be domain");var u=be(s),n=j({name:"saveCancel",sid:"-kec0n3"}),f=x([],{and:{serialize:"ignore"},name:"$canceller",sid:"-tfm9fg"}).on(n,(g,i)=>i),l=(t=a)!==null&&t!==void 0?t:j({name:"tick",sid:"-50e2rn"}),p=Z({and:{name:c||"debounce(".concat((r==null?void 0:r.shortName)||r.kind,") effect"),source:f,effect(g,i){var[T,S]=g;return T&&clearTimeout(T),S&&S(),new Promise((M,$)=>{n([setTimeout(M,i),$])})}},or:{name:"timerFx",sid:"-jwso4j"}});f.reset(p.done);var d=x([],{and:{serialize:"ignore",skipVoid:!1},name:"$payload",sid:"-x9cllg"}).on(r,(g,i)=>[i]),y=x(!0,{and:{serialize:"ignore"},name:"$canTick",sid:"8r2952"}),v=j({name:"triggerTick",sid:"-781myl"});y.on(v,()=>!1).on([l,u,p],()=>!0);var R=G([r,m({and:[{clock:u,filter:p.pending}],or:{name:"requestTick",sid:"-khrpxp"}})],{name:"requestTick",sid:"2k0852"});return m({and:[{clock:R,filter:y,target:v}],or:{sid:"-31h8q8"}}),m({and:[{source:u,clock:v,target:p}],or:{sid:"-2y6h62"}}),m({and:[{source:d,clock:p.done,fn:g=>{var[i]=g;return i},target:l}],or:{sid:"-2jc15b"}}),l}function be(t){if(_.store(t,{sid:"-21qm2b"}))return t;if(typeof t=="number"){if(t<0||!Number.isFinite(t))throw new Error('timeout must be positive number or zero. Received: "'.concat(t,'"'));return x(t,{and:{name:"$timeout"},sid:"kbepy4"})}throw new TypeError('timeout parameter in interval method should be number or Store. "'.concat(typeof t,'" was passed'))}E({sid:"-kbq9ff",fn:()=>X({effect:ee(t=>({url:L.REVIEWS_LIST,params:t}))}),name:"getReviewsQuery",method:"createQuery"});const k=E({sid:"-svza5k",fn:()=>J({effect:Y(t=>({url:L.REVIEWS_LIST,method:K.POST,body:t}))}),name:"createReviewMutation",method:"createMutation"}),Pe=te(()=>{const t=j({name:"reviewCreated",sid:"buwjli"}),o=x(!1,{name:"$isFormSubmitterSuccessfully",sid:"pn960e"}),r=x(!1,{name:"$hasError",sid:"-9skr2i"}),s=ae(({message:a,isError:c})=>{re.show({title:c?"Произошла ошибка":"Успешно!",message:a,color:c?"red":"blue"})},{name:"showMessageFx",sid:"-13f38a"});return m({and:[{clock:t,target:k.start}],or:{sid:"-4bceoz"}}),m({and:[{clock:k.finished.success,fn:()=>!0,target:o}],or:{sid:"-48lfq6"}}),m({and:[{clock:E({sid:"-s1md1m",fn:()=>Te(o,500),name:"clock",method:"debounce"}),fn:()=>!1,target:o}],or:{sid:"-3tqzpf"}}),m({and:[{clock:k.finished.failure,fn:()=>!0,target:r}],or:{sid:"-3ewjoo"}}),m({and:[{clock:o,filter:a=>a===!0,fn:()=>({message:"Отзыв успешно отправлен!",isError:!1}),target:s}],or:{sid:"-3bls4i"}}),m({and:[{clock:r,filter:a=>a===!0,fn:()=>({message:"Произошла ошибка",isError:!0}),target:s}],or:{sid:"-2uk5qb"}}),{reviewCreated:t}}),Se=z.object({name:z.string().min(1,{message:"Имя обязательно"}),text:z.string().min(1,{message:"Текст отзыва обязателен"})}),we=()=>{const{urlParsed:{search:t}}=oe(),[o]=C([Pe.reviewCreated]),r=C(k.$pending),s=t.user_report,a=se({mode:"controlled",initialValues:{name:"",text:"",user_report:s??"",informativeness_rate:0,convenience_rate:0,accuracy_rate:0,recommendability_rate:0,satisfaction_rate:0},validate:ie(Se)}),c={name:"name",key:a.key("name"),label:"Имя",placeholder:"Как к вам обращаться?",...a.getInputProps("name")},u={name:"text",key:a.key("text"),label:"Ваш отзыв",placeholder:"Опишите ваш опыт прохождения теста",...a.getInputProps("text")},n={name:"informativeness_rate",key:a.key("informativeness_rate"),label:"Полнота информации",...a.getInputProps("informativeness_rate")},f={name:"convenience_rate",key:a.key("convenience_rate"),label:"Удобство прохождения",...a.getInputProps("convenience_rate")},l={name:"accuracy_rate",key:a.key("accuracy_rate"),label:"Точность результатов",...a.getInputProps("accuracy_rate")},p={name:"recommendability_rate",key:a.key("recommendability_rate"),label:"Готовность рекомендовать друзьям",...a.getInputProps("recommendability_rate")},d={name:"satisfaction_rate",key:a.key("satisfaction_rate"),label:"Удовлетворенность результатом",...a.getInputProps("satisfaction_rate")},y=a.onSubmit(v=>{o(v)});return{nameInputProps:c,textInputProps:u,informativenessRateRatingProps:n,convenienceRateProps:f,accuracyRateProps:l,recommendabilityRateProps:p,satisfactionRateProps:d,onSubmit:y,isLoading:r}},je=({slots:t})=>{const{nameInputProps:o,textInputProps:r,informativenessRateRatingProps:s,satisfactionRateProps:a,convenienceRateProps:c,accuracyRateProps:u,recommendabilityRateProps:n,onSubmit:f,isLoading:l}=we();return e.jsxs(e.Fragment,{children:[e.jsx(U,{visible:l,overlayProps:{radius:"sm",blur:2}}),e.jsxs("form",{onSubmit:f,children:[e.jsxs(h,{className:w.stack,children:[e.jsx(ne,{radius:"xs",size:"md",classNames:w,...o}),e.jsx(he,{rows:4,radius:"xs",size:"md",classNames:w,...r,mb:"md"}),e.jsxs(h,{gap:"3xl",children:[e.jsxs(h,{gap:"xxs",children:[e.jsx(b,{fw:"bold",children:s.label}),e.jsx(P,{size:"xl",...s})]}),e.jsxs(h,{gap:"xxs",children:[e.jsx(b,{fw:"bold",children:s.label}),e.jsx(P,{size:"xl",...c})]}),e.jsxs(h,{gap:"xxs",children:[e.jsx(b,{fw:"bold",children:s.label}),e.jsx(P,{size:"xl",...u})]}),e.jsxs(h,{gap:"xxs",children:[e.jsx(b,{fw:"bold",children:s.label}),e.jsx(P,{size:"xl",...n})]}),e.jsxs(h,{gap:"xxs",children:[e.jsx(b,{fw:"bold",children:s.label}),e.jsx(P,{size:"xl",...a})]})]})]}),e.jsxs(D,{className:w.controls,children:[e.jsx(le,{disabled:l,loading:l,type:"submit",children:"Отправить"}),t==null?void 0:t.action]})]})]})},ke=()=>e.jsx(ve,{title:"Оставьте отзыв",text:"Поделитесь вашим мнением о прохождении теста. Будем рады услышать вас!",image:"/review/question-bubble",children:e.jsx(je,{slots:{action:e.jsx(ye,{})}})});function Re(){return e.jsx(ke,{})}const ze=Object.freeze(Object.defineProperty({__proto__:null,default:Re},Symbol.toStringTag,{value:"Module"})),nt={isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:{server:!0}}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/onRenderClient",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:ge}},onPageTransitionStart:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionStart.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:fe}},onPageTransitionEnd:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionEnd.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:pe}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/review/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:ze}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/config",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},Layout:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/src/widgets/RootLayout/index.tsx",fileExportPathToShowToUser:["RootLayout"]}],valueSerialized:[{type:"pointer-import",value:ue}]},title:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","title"]},valueSerialized:{type:"js-serialized",value:"Cognitive Lab"}},lang:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","lang"]},valueSerialized:{type:"js-serialized",value:"ru"}},onBeforeRenderClient:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/pages/+onBeforeRenderClient.ts",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"plus-file",exportValues:me}]},Wrapper:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/pages/+Wrapper.tsx",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"plus-file",exportValues:ce}]},reactStrictMode:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","reactStrictMode"]},valueSerialized:{type:"js-serialized",value:!1}},Loading:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/Loading",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:de}}};export{nt as configValuesSerialized};
