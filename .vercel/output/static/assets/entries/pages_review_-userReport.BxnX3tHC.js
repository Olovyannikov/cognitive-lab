import{k as O,l as B,b6 as V,ap as F,m as H,j as e,v as q,B as S,L as W,bN as A,n as G,P as Q,T as X,h as i,$ as Z,a1 as E,M as v,a5 as z,bO as J,be as K,bP as f,bf as D,u as Y,e as T,a6 as ee,bh as te,S as m,aG as ae,A as re,i as se,a as oe,b as ie,R as ne,c as le,d as de,o as ce}from"../chunks/chunk-CEgQvrcO.js";import{P as pe}from"../chunks/chunk-BkvtPePU.js";import{s as x}from"../chunks/chunk-CWHWgX45.js";import{a as P,c as N,R as h}from"../chunks/chunk-CqS2Alh9.js";import{s as g}from"../chunks/chunk-DbJyLhLd.js";import{T as me,N as ue}from"../chunks/chunk-CpwOirTd.js";import{N as fe}from"../chunks/chunk-CZBTtHeR.js";import{I as xe}from"../chunks/chunk-DowQwuxx.js";import{s as he}from"../chunks/chunk-CLIwDxtA.js";import{c as ye}from"../chunks/chunk-DtiIRvSF.js";import"../chunks/chunk-Bc952ym7.js";/* empty css                      */import"../chunks/chunk-CzcYWzuz.js";import"../chunks/chunk-DRY9zkUH.js";import"../chunks/chunk-B9aj60V7.js";import"../chunks/chunk-BFxkgyTb.js";import"../chunks/chunk-Bxk40HBS.js";import"../chunks/chunk-BYlX3Wk_.js";import"../chunks/chunk-Ctd1kwdX.js";import"../chunks/chunk-B1W2AE3s.js";import"../chunks/chunk-CeW6XL9H.js";import"../chunks/chunk-6rQrwLil.js";import"../chunks/chunk-DdXlt871.js";import"../chunks/chunk-CTI7mhPL.js";import"../chunks/chunk-DXiBzkON.js";import"../chunks/chunk-CcPkYSlP.js";import"../chunks/chunk-3L7g8qmj.js";import"../chunks/chunk-DUqgWGpU.js";import"../chunks/chunk-rkAEyc-z.js";/* empty css                      *//* empty css                      */import"../chunks/chunk-DY1rJXzQ.js";import"../chunks/chunk-DJQzIxIL.js";import"../chunks/chunk-CGG52H9N.js";import"../chunks/chunk-DQnv03Ih.js";var C={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const L={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:V("overlay")},ge=G((r,{zIndex:s})=>({root:{"--lo-z-index":s==null?void 0:s.toString()}})),_=O((r,s)=>{const a=B("LoadingOverlay",L,r),{classNames:o,className:t,style:d,styles:c,unstyled:n,vars:u,transitionProps:p,loaderProps:b,overlayProps:l,visible:j,zIndex:R,...$}=a,k=F(),y=H({name:"LoadingOverlay",classes:C,props:a,className:t,style:d,classNames:o,styles:c,unstyled:n,vars:u,varsResolver:ge}),U={...L.overlayProps,...l};return e.jsx(q,{transition:"fade",...p,mounted:!!j,children:M=>e.jsxs(S,{...y("root",{style:M}),ref:s,...$,children:[e.jsx(W,{...y("loader"),unstyled:n,...b}),e.jsx(A,{...U,...y("overlay"),darkHidden:!0,unstyled:n,color:(l==null?void 0:l.color)||k.white}),e.jsx(A,{...U,...y("overlay"),lightHidden:!0,unstyled:n,color:(l==null?void 0:l.color)||k.colors.dark[5]})]})})});_.classes=C;_.displayName="@mantine/core/LoadingOverlay";const w={title:"Спасибо за ваш отзыв!",description:"Спасибо за ваш отзыв!",image:"/images/success-base-man"},ve=({title:r=w.title,description:s=w.description,image:a=w.image,slots:o})=>e.jsxs(S,{className:x.box,children:[e.jsx(Q,{cdn:!0,className:x.image,w:145,"aria-hidden":!0,src:a,alt:r}),e.jsx(X,{className:x.title,order:3,children:r}),e.jsx(i,{className:x.text,children:s}),e.jsx(S,{className:x.action,children:o==null?void 0:o.action})]}),Se={back:()=>window.history.back()},Te=Z(()=>{const r=E(!1,{name:"$isSubmitted",sid:"-n5zpxd"}),s=E([],{name:"$comments",sid:"-tk2hgq"});return v({and:[{clock:z.finished.success,fn:({result:a})=>(a==null?void 0:a.left_comments)??[],target:s}],or:{sid:"xnhzlm"}}),v({and:[{clock:s,source:P.$currentReviewId,fn:(a,o)=>!!(o!=null&&o.filter(({user_report:t})=>t===a).length),target:r}],or:{sid:"xqsr5s"}}),v({and:[{clock:N.finished.success,fn:J,target:z.refresh}],or:{sid:"y66zrw"}}),{$isSubmitted:r}}),Pe=K({name:D().min(1,{message:"Имя обязательно"}),text:D().min(1,{message:"Текст отзыва обязателен"}),informativeness_rate:f().min(1,{message:"Поле обязательно"}),convenience_rate:f().min(1,{message:"Поле обязательно"}),accuracy_rate:f().min(1,{message:"Поле обязательно"}),recommendability_rate:f().min(1,{message:"Поле обязательно"}),satisfaction_rate:f().min(1,{message:"Поле обязательно"})}),be=()=>{const{routeParams:{userReport:r}}=Y(),[s,a]=T([P.reviewCreated,P.$isFormSubmittedSuccessfully]),o=T(N.$pending),t=ee({mode:"controlled",initialValues:{name:"",text:"",user_report:r??"",informativeness_rate:0,convenience_rate:0,accuracy_rate:0,recommendability_rate:0,satisfaction_rate:0},validate:te(Pe)}),d={name:"name",key:t.key("name"),label:"Имя",placeholder:"Как к вам обращаться?",...t.getInputProps("name")},c={name:"text",key:t.key("text"),label:"Ваш отзыв",placeholder:"Опишите ваш опыт прохождения теста",...t.getInputProps("text")},n={name:"informativeness_rate",key:t.key("informativeness_rate"),label:"Полнота информации",...t.getInputProps("informativeness_rate")},u={name:"convenience_rate",key:t.key("convenience_rate"),label:"Удобство прохождения",...t.getInputProps("convenience_rate")},p={name:"accuracy_rate",key:t.key("accuracy_rate"),label:"Точность результатов",...t.getInputProps("accuracy_rate")},b={name:"recommendability_rate",key:t.key("recommendability_rate"),label:"Готовность рекомендовать друзьям",...t.getInputProps("recommendability_rate")},l={name:"satisfaction_rate",key:t.key("satisfaction_rate"),label:"Удовлетворенность результатом",...t.getInputProps("satisfaction_rate")},j=t.onSubmit(R=>{s(R),a&&t.reset()});return{nameInputProps:d,textInputProps:c,informativenessRateRatingProps:n,convenienceRateProps:u,accuracyRateProps:p,recommendabilityRateProps:b,satisfactionRateProps:l,onSubmit:j,isLoading:o}},je=({slots:r})=>{const{nameInputProps:s,textInputProps:a,informativenessRateRatingProps:o,satisfactionRateProps:t,convenienceRateProps:d,accuracyRateProps:c,recommendabilityRateProps:n,onSubmit:u,isLoading:p}=be();return e.jsxs(e.Fragment,{children:[e.jsx(_,{visible:p,overlayProps:{radius:"sm",blur:2}}),e.jsxs("form",{onSubmit:u,children:[e.jsxs(m,{className:g.stack,children:[e.jsx(ae,{radius:"xs",size:"md",classNames:g,...s}),e.jsx(me,{rows:4,radius:"xs",size:"md",classNames:g,...a,mb:"md"}),e.jsxs(m,{gap:"3xl",children:[e.jsxs(m,{gap:"xxs",children:[e.jsx(i,{fw:"bold",children:o.label}),e.jsx(h,{size:"xl",...o}),o.error&&e.jsx(i,{fz:14,c:"red",children:"Поле обязательно"})]}),e.jsxs(m,{gap:"xxs",children:[e.jsx(i,{fw:"bold",children:d.label}),e.jsx(h,{size:"xl",...d}),d.error&&e.jsx(i,{fz:14,c:"red",children:"Поле обязательно"})]}),e.jsxs(m,{gap:"xxs",children:[e.jsx(i,{fw:"bold",children:c.label}),e.jsx(h,{size:"xl",...c}),c.error&&e.jsx(i,{fz:14,c:"red",children:"Поле обязательно"})]}),e.jsxs(m,{gap:"xxs",children:[e.jsx(i,{fw:"bold",children:n.label}),e.jsx(h,{size:"xl",...n}),n.error&&e.jsx(i,{fz:14,c:"red",children:"Поле обязательно"})]}),e.jsxs(m,{gap:"xxs",children:[e.jsx(i,{fw:"bold",children:t.label}),e.jsx(h,{size:"xl",...t}),t.error&&e.jsx(i,{fz:14,c:"red",children:"Поле обязательно"})]})]})]}),e.jsxs(S,{className:g.controls,children:[e.jsx(re,{size:"md",disabled:p,loading:p,type:"submit",children:"Отправить"}),r==null?void 0:r.action]})]})]})},we=()=>{const{pending:r,stale:s}=T(z),[a]=T([Te.$isSubmitted]);return r||s?e.jsx(pe,{}):e.jsxs(xe,{maw:850,className:a?he.root:"",title:!a&&"Оставьте отзыв",text:!a&&"Поделитесь вашим мнением о прохождении теста. Будем рады услышать вас!",image:a?void 0:"/review/question-bubble",children:[!a&&e.jsx(je,{slots:{action:e.jsx(fe,{})}}),a&&e.jsx(ve,{description:"Благодарим вас за то, что поделились своим мнением! Мы высоко ценим любую обратную связь и стараемся использовать её для улучшения нашего сервиса.",image:"/review/star",slots:{action:e.jsx(ue,{size:"md",onClick:()=>Se.back(),fullWidth:!0,children:"Вернуться назад"})}})]})};function ze(){return e.jsx(we,{})}const _e=Object.freeze(Object.defineProperty({__proto__:null,default:ze},Symbol.toStringTag,{value:"Module"})),I=ye();v({and:[{clock:I,fn:({routeParams:r})=>r.userReport,target:P.$currentReviewId}],or:{sid:"-ombeai"}});const Re=Object.freeze(Object.defineProperty({__proto__:null,pageStarted:I},Symbol.toStringTag,{value:"Module"})),ct={isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:{server:!0}}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/onRenderClient",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:ce}},onPageTransitionStart:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionStart.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:de}},onPageTransitionEnd:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionEnd.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:le}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/review/@userReport/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:_e}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/config",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},prefetchStaticAssets:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","prefetchStaticAssets"]},valueSerialized:{type:"js-serialized",value:"viewport"}},Layout:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/src/widgets/RootLayout/index.tsx",fileExportPathToShowToUser:["RootLayout"]}],valueSerialized:[{type:"pointer-import",value:ne}]},title:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","title"]},valueSerialized:{type:"js-serialized",value:"CognitiveLab — тест на тип личности и выбор профессии"}},lang:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","lang"]},valueSerialized:{type:"js-serialized",value:"ru"}},onBeforeRenderClient:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/pages/+onBeforeRenderClient.ts",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"plus-file",exportValues:ie}]},Wrapper:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/pages/+Wrapper.tsx",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"plus-file",exportValues:oe}]},reactStrictMode:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","reactStrictMode"]},valueSerialized:{type:"js-serialized",value:!1}},Loading:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/Loading",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:se}},pageStarted:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/review/@userReport/+pageStarted.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:Re}}};export{ct as configValuesSerialized};
