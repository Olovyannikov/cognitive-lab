import{$ as le,a0 as ce,aL as Be,a5 as Ve,a8 as de,j as e,aM as Fe,B as w,aN as Oe,aO as re,ad as ue,_ as We,aa as me,as as ie,s as X,at as Ge,al as Qe,ab as Xe,am as He,an as qe,T as Ke,h as f,aP as S,u as Ze,e as $,Q as Je,aQ as Ye,S as T,aC as et,M as tt,F as at,I as st,N as pe,t as ot,i as rt,a as it,b as nt,R as lt,c as ct,d as dt,o as ut}from"../chunks/chunk-QxFzsHvx.js";import"../chunks/chunk-zopl9eKe.js";import{P as mt}from"../chunks/chunk-DpzAzIxk.js";import{s as A}from"../chunks/chunk-CWHWgX45.js";import{P as pt}from"../chunks/chunk-ChS6gcpp.js";import{R as K,c as ft}from"../chunks/chunk-Do_DQcyN.js";import{s as E}from"../chunks/chunk-DbJyLhLd.js";import{T as ht,N as yt}from"../chunks/chunk-BJNfvG1K.js";import{N as gt}from"../chunks/chunk-CEE7j6Kb.js";import{I as xt}from"../chunks/chunk-DbmjzP5H.js";/* empty css                      */import"../chunks/chunk-CzcYWzuz.js";import"../chunks/chunk-A2AluIPU.js";import"../chunks/chunk-DBQ3R7cM.js";import"../chunks/chunk-DtLa94aX.js";import"../chunks/chunk-D70cBfnA.js";import"../chunks/chunk-fdyRSynD.js";import"../chunks/chunk-SsiTcO1f.js";import"../chunks/chunk-CcRi4BOb.js";import"../chunks/chunk-BaJ2QHzz.js";import"../chunks/chunk-8V22sSaH.js";import"../chunks/chunk-CSac1xwH.js";import"../chunks/chunk-DX_2ZBoS.js";import"../chunks/chunk-3B-y_MHH.js";import"../chunks/chunk-D1iXXvtn.js";import"../chunks/chunk-DpB2_Uei.js";import"../chunks/chunk-D3EFvA6Y.js";import"../chunks/chunk-rkAEyc-z.js";/* empty css                      */import"../chunks/chunk-3GIYgDHt.js";import"../chunks/chunk-CPM-DByq.js";import"../chunks/chunk-DIyTX1Hu.js";import"../chunks/chunk-DsWTEMC-.js";import"../chunks/chunk-C3e4t58V.js";import"../chunks/chunk-0vodXcDc.js";import"../chunks/chunk-CGG52H9N.js";import"../chunks/chunk-DlzxaHaf.js";var fe={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const ne={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:Be("overlay")},vt=ue((s,{zIndex:o})=>({root:{"--lo-z-index":o==null?void 0:o.toString()}})),J=le((s,o)=>{const a=ce("LoadingOverlay",ne,s),{classNames:i,className:t,style:l,styles:d,unstyled:n,vars:g,transitionProps:p,loaderProps:b,overlayProps:c,visible:j,zIndex:k,...C}=a,x=Ve(),h=de({name:"LoadingOverlay",classes:fe,props:a,className:t,style:l,classNames:i,styles:d,unstyled:n,vars:g,varsResolver:vt}),u={...ne.overlayProps,...c};return e.jsx(Fe,{transition:"fade",...p,mounted:!!j,children:P=>e.jsxs(w,{...h("root",{style:P}),ref:o,...C,children:[e.jsx(Oe,{...h("loader"),unstyled:n,...b}),e.jsx(re,{...u,...h("overlay"),darkHidden:!0,unstyled:n,color:(c==null?void 0:c.color)||x.white}),e.jsx(re,{...u,...h("overlay"),lightHidden:!0,unstyled:n,color:(c==null?void 0:c.color)||x.colors.dark[5]})]})})});J.classes=fe;J.displayName="@mantine/core/LoadingOverlay";const[St,he]=We("Rating was not found in tree");function ye(s){const{width:o,height:a,style:i,...t}=s;return e.jsx("svg",{viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:o,height:a,...i},...t,children:e.jsx("path",{d:"M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z"})})}ye.displayName="@mantine/core/StarIcon";function Z({type:s}){const o=he();return e.jsx(ye,{...o.getStyles("starSymbol"),"data-filled":s==="full"||void 0})}Z.displayName="@mantine/core/StarSymbol";function ge({getSymbolLabel:s,emptyIcon:o,fullIcon:a,full:i,active:t,value:l,readOnly:d,fractionValue:n,color:g,id:p,onBlur:b,onChange:c,onInputChange:j,style:k,...C}){var y;const x=he(),h=typeof a=="function"?a(l):a,u=typeof o=="function"?o(l):o,{dir:P}=me();return e.jsxs(e.Fragment,{children:[!d&&e.jsx("input",{...x.getStyles("input"),onKeyDown:U=>U.key===" "&&c(l),id:p,type:"radio","data-active":t||void 0,"aria-label":s==null?void 0:s(l),value:l,onBlur:b,onChange:j,...C}),e.jsx(w,{component:d?"div":"label",...x.getStyles("label"),"data-read-only":d||void 0,htmlFor:p,onClick:()=>c(l),__vars:{"--rating-item-z-index":(y=n===1?void 0:t?2:0)==null?void 0:y.toString()},children:e.jsx(w,{...x.getStyles("symbolBody"),__vars:{"--rating-symbol-clip-path":n===1?void 0:P==="ltr"?`inset(0 ${t?100-n*100:100}% 0 0)`:`inset(0 0 0 ${t?100-n*100:100}% )`},children:i?h||e.jsx(Z,{type:"full"}):u||e.jsx(Z,{type:"empty"})})})]})}ge.displayName="@mantine/core/RatingItem";var xe={root:"m_f8d312f2",symbolGroup:"m_61734bb7",starSymbol:"m_5662a89a",input:"m_211007ba",label:"m_21342ee4",symbolBody:"m_fae05d6a"};function H(s,o){var t;const a=Math.round(s/o)*o,i=((t=`${o}`.split(".")[1])==null?void 0:t.length)||0;return Number(a.toFixed(i))}const bt={size:"sm",getSymbolLabel:s=>`${s}`,count:5,fractions:1,color:"yellow"},jt=ue((s,{size:o,color:a})=>({root:{"--rating-size":qe(o,"rating-size"),"--rating-color":He(a,s)}})),_=le((s,o)=>{const a=ce("Rating",bt,s),{classNames:i,className:t,style:l,styles:d,unstyled:n,vars:g,name:p,id:b,value:c,defaultValue:j,onChange:k,fractions:C,count:x,onMouseEnter:h,readOnly:u,onMouseMove:P,onHover:y,onMouseLeave:U,onTouchStart:D,onTouchEnd:L,size:ve,variant:Se,getSymbolLabel:be,color:Ut,emptySymbol:je,fullSymbol:Pe,highlightSelectedOnly:Te,..._e}=a,B=de({name:"Rating",classes:xe,props:a,className:t,style:l,classNames:i,styles:d,unstyled:n,vars:g,varsResolver:jt}),{dir:we}=me(),Re=ie(p),Y=ie(b),ee=X.useRef(null),[ze,V]=Ge({value:c,defaultValue:j,finalValue:0,onChange:k}),[N,I]=X.useState(-1),[ke,te]=X.useState(!0),F=Math.floor(C),O=Math.floor(x),R=1/F,ae=H(ze,R),W=N!==-1?N:ae,se=r=>{const{left:m,right:v,width:G}=ee.current.getBoundingClientRect(),Q=G/O,M=(we==="rtl"?v-r:r-m)/Q;return Xe(H(M+R/2,R),R,O)},Ce=r=>{h==null||h(r),!u&&te(!1)},Ue=r=>{if(P==null||P(r),u)return;const m=se(r.clientX);I(m),m!==N&&(y==null||y(m))},Ne=r=>{U==null||U(r),!u&&(I(-1),te(!0),N!==-1&&(y==null||y(-1)))},Ie=r=>{const{touches:m}=r;if(m.length===1){if(!u){const v=m[0];V(se(v.clientX))}D==null||D(r)}},Me=r=>{r.preventDefault(),L==null||L(r)},Ae=()=>ke&&I(-1),Ee=r=>{u||I(typeof r=="number"?r:parseFloat(r.target.value))},$e=r=>{u||V(typeof r=="number"?r:parseFloat(r.target.value))},De=Array(O).fill(0).map((r,m)=>{const v=m+1,G=Array.from(new Array(m===0?F+1:F)),Q=!u&&Math.ceil(N)===v;return e.jsx("div",{"data-active":Q||void 0,...B("symbolGroup"),children:G.map((Le,M)=>{const oe=R*(m===0?M:M+1),z=H(v-1+oe,R);return e.jsx(ge,{getSymbolLabel:be,emptyIcon:je,fullIcon:Pe,full:Te?z===W:z<=W,active:z===W,checked:z===ae,readOnly:u,fractionValue:oe,value:z,name:Re,onChange:$e,onBlur:Ae,onInputChange:Ee,id:`${Y}-${m}-${M}`},`${v}-${z}`)})},v)});return e.jsx(St,{value:{getStyles:B},children:e.jsx(w,{ref:Qe(ee,o),...B("root"),onMouseMove:Ue,onMouseEnter:Ce,onMouseLeave:Ne,onTouchStart:Ie,onTouchEnd:Me,variant:Se,size:ve,id:Y,..._e,children:De})})});_.classes=xe;_.displayName="@mantine/core/Rating";const q={title:"Спасибо за ваш отзыв!",description:"Спасибо за ваш отзыв!",image:"/images/success-base-man.webp"},Pt=({title:s=q.title,description:o=q.description,image:a=q.image,slots:i})=>e.jsxs(w,{className:A.box,children:[e.jsx(pt,{className:A.image,w:145,"aria-hidden":!0,src:a,alt:s}),e.jsx(Ke,{className:A.title,order:3,children:s}),e.jsx(f,{className:A.text,children:o}),e.jsx(w,{className:A.action,children:i==null?void 0:i.action})]}),Tt=S.object({name:S.string().min(1,{message:"Имя обязательно"}),text:S.string().min(1,{message:"Текст отзыва обязателен"}),informativeness_rate:S.number().min(1,{message:"Поле обязательно"}),convenience_rate:S.number().min(1,{message:"Поле обязательно"}),accuracy_rate:S.number().min(1,{message:"Поле обязательно"}),recommendability_rate:S.number().min(1,{message:"Поле обязательно"}),satisfaction_rate:S.number().min(1,{message:"Поле обязательно"})}),_t=()=>{const{routeParams:{userReport:s}}=Ze(),[o,a]=$([K.reviewCreated,K.$isFormSubmittedSuccessfully]),i=$(ft.$pending),t=Je({mode:"controlled",initialValues:{name:"",text:"",user_report:s??"",informativeness_rate:0,convenience_rate:0,accuracy_rate:0,recommendability_rate:0,satisfaction_rate:0},validate:Ye(Tt)}),l={name:"name",key:t.key("name"),label:"Имя",placeholder:"Как к вам обращаться?",...t.getInputProps("name")},d={name:"text",key:t.key("text"),label:"Ваш отзыв",placeholder:"Опишите ваш опыт прохождения теста",...t.getInputProps("text")},n={name:"informativeness_rate",key:t.key("informativeness_rate"),label:"Полнота информации",...t.getInputProps("informativeness_rate")},g={name:"convenience_rate",key:t.key("convenience_rate"),label:"Удобство прохождения",...t.getInputProps("convenience_rate")},p={name:"accuracy_rate",key:t.key("accuracy_rate"),label:"Точность результатов",...t.getInputProps("accuracy_rate")},b={name:"recommendability_rate",key:t.key("recommendability_rate"),label:"Готовность рекомендовать друзьям",...t.getInputProps("recommendability_rate")},c={name:"satisfaction_rate",key:t.key("satisfaction_rate"),label:"Удовлетворенность результатом",...t.getInputProps("satisfaction_rate")},j=t.onSubmit(k=>{o(k),a&&t.reset()});return{nameInputProps:l,textInputProps:d,informativenessRateRatingProps:n,convenienceRateProps:g,accuracyRateProps:p,recommendabilityRateProps:b,satisfactionRateProps:c,onSubmit:j,isLoading:i}},wt=({slots:s})=>{const{nameInputProps:o,textInputProps:a,informativenessRateRatingProps:i,satisfactionRateProps:t,convenienceRateProps:l,accuracyRateProps:d,recommendabilityRateProps:n,onSubmit:g,isLoading:p}=_t();return e.jsxs(e.Fragment,{children:[e.jsx(J,{visible:p,overlayProps:{radius:"sm",blur:2}}),e.jsxs("form",{onSubmit:g,children:[e.jsxs(T,{className:E.stack,children:[e.jsx(et,{radius:"xs",size:"md",classNames:E,...o}),e.jsx(ht,{rows:4,radius:"xs",size:"md",classNames:E,...a,mb:"md"}),e.jsxs(T,{gap:"3xl",children:[e.jsxs(T,{gap:"xxs",children:[e.jsx(f,{fw:"bold",children:i.label}),e.jsx(_,{size:"xl",...i}),i.error&&e.jsx(f,{fz:14,c:"red",children:"Поле обязательно"})]}),e.jsxs(T,{gap:"xxs",children:[e.jsx(f,{fw:"bold",children:l.label}),e.jsx(_,{size:"xl",...l}),l.error&&e.jsx(f,{fz:14,c:"red",children:"Поле обязательно"})]}),e.jsxs(T,{gap:"xxs",children:[e.jsx(f,{fw:"bold",children:d.label}),e.jsx(_,{size:"xl",...d}),d.error&&e.jsx(f,{fz:14,c:"red",children:"Поле обязательно"})]}),e.jsxs(T,{gap:"xxs",children:[e.jsx(f,{fw:"bold",children:n.label}),e.jsx(_,{size:"xl",...n}),n.error&&e.jsx(f,{fz:14,c:"red",children:"Поле обязательно"})]}),e.jsxs(T,{gap:"xxs",children:[e.jsx(f,{fw:"bold",children:t.label}),e.jsx(_,{size:"xl",...t}),t.error&&e.jsx(f,{fz:14,c:"red",children:"Поле обязательно"})]})]})]}),e.jsxs(w,{className:E.controls,children:[e.jsx(tt,{disabled:p,loading:p,type:"submit",children:"Отправить"}),s==null?void 0:s.action]})]})]})},Rt=at(()=>{const s=st(!1,{name:"$isSubmitted",sid:"9uinjp"}),o=pe.$data.map(a=>a==null?void 0:a.left_comments);return ot({and:[{clock:o,source:K.$currentReviewId,fn:(a,i)=>!!(i!=null&&i.find(({user_report:t})=>t===a)),target:s}],or:{sid:"xnhzlm"}}),{$isSubmitted:s}}),zt=()=>{const{pending:s,stale:o}=$(pe),[a]=$([Rt.$isSubmitted]);return s||o?e.jsx(mt,{}):e.jsxs(xt,{title:!a&&"Оставьте отзыв",text:!a&&"Поделитесь вашим мнением о прохождении теста. Будем рады услышать вас!",image:a?void 0:"/review/question-bubble",children:[!a&&e.jsx(wt,{slots:{action:e.jsx(gt,{})}}),a&&e.jsx(Pt,{description:"Благодарим вас за то, что поделились своим мнением! Мы высоко ценим любую обратную связь и стараемся использовать её для улучшения нашего сервиса.",image:"/review/star",slots:{action:e.jsx(yt,{fullWidth:!0})}})]})};function kt(){return e.jsx(zt,{})}const Ct=Object.freeze(Object.defineProperty({__proto__:null,default:kt},Symbol.toStringTag,{value:"Module"})),ha={isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:{server:!0}}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/onRenderClient",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:ut}},onPageTransitionStart:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionStart.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:dt}},onPageTransitionEnd:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionEnd.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:ct}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/review/@userReport/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:Ct}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/config",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},Layout:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/src/widgets/RootLayout/index.tsx",fileExportPathToShowToUser:["RootLayout"]}],valueSerialized:[{type:"pointer-import",value:lt}]},title:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","title"]},valueSerialized:{type:"js-serialized",value:"Cognitive Lab"}},lang:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","lang"]},valueSerialized:{type:"js-serialized",value:"ru"}},onBeforeRenderClient:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/pages/+onBeforeRenderClient.ts",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"plus-file",exportValues:nt}]},Wrapper:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/pages/+Wrapper.tsx",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"plus-file",exportValues:it}]},reactStrictMode:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","reactStrictMode"]},valueSerialized:{type:"js-serialized",value:!1}},Loading:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/Loading",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:rt}}};export{ha as configValuesSerialized};
