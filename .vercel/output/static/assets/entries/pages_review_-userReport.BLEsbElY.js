import{a6 as N,a7 as C,aT as I,ac as M,af as B,j as e,aU as V,B as v,aV as $,aW as U,al as F,P as O,T as W,h as i,aX as d,u as H,e as P,X,aY as q,S as u,aL as G,M as K,G as Q,K as Y,W as E,t as Z,i as J,a as ee,b as ae,R as te,c as re,d as se,o as oe}from"../chunks/chunk-B3ldUBXU.js";import"../chunks/chunk-CwF9Jyem.js";import{P as ie}from"../chunks/chunk-D1rb8Aeo.js";import{s as x}from"../chunks/chunk-CWHWgX45.js";import{a as j,c as ne,R as h}from"../chunks/chunk-HOtMFRYe.js";import{s as g}from"../chunks/chunk-DbJyLhLd.js";import{T as le,N as de}from"../chunks/chunk-ChZI75Ku.js";import{N as ce}from"../chunks/chunk-DRTbKsLN.js";import{I as pe}from"../chunks/chunk-CoZI-OQw.js";/* empty css                      */import"../chunks/chunk-CzcYWzuz.js";import"../chunks/chunk-BWfax5mk.js";import"../chunks/chunk-CBRLXkE7.js";import"../chunks/chunk-DBQ3R7cM.js";import"../chunks/chunk-DtLa94aX.js";import"../chunks/chunk-D70cBfnA.js";import"../chunks/chunk-CZXMMV0e.js";import"../chunks/chunk-Ctd1kwdX.js";import"../chunks/chunk-B1W2AE3s.js";import"../chunks/chunk-TvE_J3Jb.js";import"../chunks/chunk-CHvW70Xa.js";import"../chunks/chunk-BaJ2QHzz.js";import"../chunks/chunk-8V22sSaH.js";import"../chunks/chunk-CSac1xwH.js";import"../chunks/chunk-DcEaSZm4.js";import"../chunks/chunk-DX_2ZBoS.js";import"../chunks/chunk-3B-y_MHH.js";import"../chunks/chunk-D1iXXvtn.js";import"../chunks/chunk-vB-OECdN.js";import"../chunks/chunk-D3EFvA6Y.js";import"../chunks/chunk-rkAEyc-z.js";/* empty css                      */import"../chunks/chunk-CRWfuGNs.js";import"../chunks/chunk-DsWTEMC-.js";import"../chunks/chunk-C3e4t58V.js";import"../chunks/chunk-CEwf0fyd.js";import"../chunks/chunk-CGG52H9N.js";import"../chunks/chunk-DlzxaHaf.js";var A={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const k={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:I("overlay")},me=F((r,{zIndex:s})=>({root:{"--lo-z-index":s==null?void 0:s.toString()}})),w=N((r,s)=>{const t=C("LoadingOverlay",k,r),{classNames:o,className:a,style:c,styles:p,unstyled:n,vars:f,transitionProps:m,loaderProps:S,overlayProps:l,visible:T,zIndex:_,...L}=t,R=M(),y=B({name:"LoadingOverlay",classes:A,props:t,className:a,style:c,classNames:o,styles:p,unstyled:n,vars:f,varsResolver:me}),z={...k.overlayProps,...l};return e.jsx(V,{transition:"fade",...m,mounted:!!T,children:D=>e.jsxs(v,{...y("root",{style:D}),ref:s,...L,children:[e.jsx($,{...y("loader"),unstyled:n,...S}),e.jsx(U,{...z,...y("overlay"),darkHidden:!0,unstyled:n,color:(l==null?void 0:l.color)||R.white}),e.jsx(U,{...z,...y("overlay"),lightHidden:!0,unstyled:n,color:(l==null?void 0:l.color)||R.colors.dark[5]})]})})});w.classes=A;w.displayName="@mantine/core/LoadingOverlay";const b={title:"Спасибо за ваш отзыв!",description:"Спасибо за ваш отзыв!",image:"/images/success-base-man.webp"},ue=({title:r=b.title,description:s=b.description,image:t=b.image,slots:o})=>e.jsxs(v,{className:x.box,children:[e.jsx(O,{className:x.image,w:145,"aria-hidden":!0,src:t,alt:r}),e.jsx(W,{className:x.title,order:3,children:r}),e.jsx(i,{className:x.text,children:s}),e.jsx(v,{className:x.action,children:o==null?void 0:o.action})]}),fe=d.object({name:d.string().min(1,{message:"Имя обязательно"}),text:d.string().min(1,{message:"Текст отзыва обязателен"}),informativeness_rate:d.number().min(1,{message:"Поле обязательно"}),convenience_rate:d.number().min(1,{message:"Поле обязательно"}),accuracy_rate:d.number().min(1,{message:"Поле обязательно"}),recommendability_rate:d.number().min(1,{message:"Поле обязательно"}),satisfaction_rate:d.number().min(1,{message:"Поле обязательно"})}),xe=()=>{const{routeParams:{userReport:r}}=H(),[s,t]=P([j.reviewCreated,j.$isFormSubmittedSuccessfully]),o=P(ne.$pending),a=X({mode:"controlled",initialValues:{name:"",text:"",user_report:r??"",informativeness_rate:0,convenience_rate:0,accuracy_rate:0,recommendability_rate:0,satisfaction_rate:0},validate:q(fe)}),c={name:"name",key:a.key("name"),label:"Имя",placeholder:"Как к вам обращаться?",...a.getInputProps("name")},p={name:"text",key:a.key("text"),label:"Ваш отзыв",placeholder:"Опишите ваш опыт прохождения теста",...a.getInputProps("text")},n={name:"informativeness_rate",key:a.key("informativeness_rate"),label:"Полнота информации",...a.getInputProps("informativeness_rate")},f={name:"convenience_rate",key:a.key("convenience_rate"),label:"Удобство прохождения",...a.getInputProps("convenience_rate")},m={name:"accuracy_rate",key:a.key("accuracy_rate"),label:"Точность результатов",...a.getInputProps("accuracy_rate")},S={name:"recommendability_rate",key:a.key("recommendability_rate"),label:"Готовность рекомендовать друзьям",...a.getInputProps("recommendability_rate")},l={name:"satisfaction_rate",key:a.key("satisfaction_rate"),label:"Удовлетворенность результатом",...a.getInputProps("satisfaction_rate")},T=a.onSubmit(_=>{s(_),t&&a.reset()});return{nameInputProps:c,textInputProps:p,informativenessRateRatingProps:n,convenienceRateProps:f,accuracyRateProps:m,recommendabilityRateProps:S,satisfactionRateProps:l,onSubmit:T,isLoading:o}},he=({slots:r})=>{const{nameInputProps:s,textInputProps:t,informativenessRateRatingProps:o,satisfactionRateProps:a,convenienceRateProps:c,accuracyRateProps:p,recommendabilityRateProps:n,onSubmit:f,isLoading:m}=xe();return e.jsxs(e.Fragment,{children:[e.jsx(w,{visible:m,overlayProps:{radius:"sm",blur:2}}),e.jsxs("form",{onSubmit:f,children:[e.jsxs(u,{className:g.stack,children:[e.jsx(G,{radius:"xs",size:"md",classNames:g,...s}),e.jsx(le,{rows:4,radius:"xs",size:"md",classNames:g,...t,mb:"md"}),e.jsxs(u,{gap:"3xl",children:[e.jsxs(u,{gap:"xxs",children:[e.jsx(i,{fw:"bold",children:o.label}),e.jsx(h,{size:"xl",...o}),o.error&&e.jsx(i,{fz:14,c:"red",children:"Поле обязательно"})]}),e.jsxs(u,{gap:"xxs",children:[e.jsx(i,{fw:"bold",children:c.label}),e.jsx(h,{size:"xl",...c}),c.error&&e.jsx(i,{fz:14,c:"red",children:"Поле обязательно"})]}),e.jsxs(u,{gap:"xxs",children:[e.jsx(i,{fw:"bold",children:p.label}),e.jsx(h,{size:"xl",...p}),p.error&&e.jsx(i,{fz:14,c:"red",children:"Поле обязательно"})]}),e.jsxs(u,{gap:"xxs",children:[e.jsx(i,{fw:"bold",children:n.label}),e.jsx(h,{size:"xl",...n}),n.error&&e.jsx(i,{fz:14,c:"red",children:"Поле обязательно"})]}),e.jsxs(u,{gap:"xxs",children:[e.jsx(i,{fw:"bold",children:a.label}),e.jsx(h,{size:"xl",...a}),a.error&&e.jsx(i,{fz:14,c:"red",children:"Поле обязательно"})]})]})]}),e.jsxs(v,{className:g.controls,children:[e.jsx(K,{disabled:m,loading:m,type:"submit",children:"Отправить"}),r==null?void 0:r.action]})]})]})},ye=Q(()=>{const r=Y(!1,{name:"$isSubmitted",sid:"9uinjp"}),s=E.$data.map(t=>t==null?void 0:t.left_comments);return Z({and:[{clock:s,source:j.$currentReviewId,fn:(t,o)=>!!(o!=null&&o.find(({user_report:a})=>a===t)),target:r}],or:{sid:"xnhzlm"}}),{$isSubmitted:r}}),ge=()=>{const{pending:r,stale:s}=P(E),[t]=P([ye.$isSubmitted]);return r||s?e.jsx(ie,{}):e.jsxs(pe,{title:!t&&"Оставьте отзыв",text:!t&&"Поделитесь вашим мнением о прохождении теста. Будем рады услышать вас!",image:t?void 0:"/review/question-bubble",children:[!t&&e.jsx(he,{slots:{action:e.jsx(ce,{})}}),t&&e.jsx(ue,{description:"Благодарим вас за то, что поделились своим мнением! Мы высоко ценим любую обратную связь и стараемся использовать её для улучшения нашего сервиса.",image:"/review/star",slots:{action:e.jsx(de,{fullWidth:!0})}})]})};function ve(){return e.jsx(ge,{})}const Pe=Object.freeze(Object.defineProperty({__proto__:null,default:ve},Symbol.toStringTag,{value:"Module"})),oa={isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:{server:!0}}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/onRenderClient",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:oe}},onPageTransitionStart:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionStart.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:se}},onPageTransitionEnd:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionEnd.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:re}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/review/@userReport/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:Pe}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/config",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},Layout:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/src/widgets/RootLayout/index.tsx",fileExportPathToShowToUser:["RootLayout"]}],valueSerialized:[{type:"pointer-import",value:te}]},title:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","title"]},valueSerialized:{type:"js-serialized",value:"Cognitive Lab"}},lang:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","lang"]},valueSerialized:{type:"js-serialized",value:"ru"}},onBeforeRenderClient:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/pages/+onBeforeRenderClient.ts",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"plus-file",exportValues:ae}]},Wrapper:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/pages/+Wrapper.tsx",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"plus-file",exportValues:ee}]},reactStrictMode:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","reactStrictMode"]},valueSerialized:{type:"js-serialized",value:!1}},Loading:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/Loading",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:J}}};export{oa as configValuesSerialized};
