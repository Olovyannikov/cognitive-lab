import{a6 as $,a7 as B,aP as O,ac as V,af as F,j as e,aQ as H,B as S,aR as W,aS as E,ak as q,P as Q,T as X,k as i,aT as d,u as J,f as P,X as Z,aU as G,S as u,aI as K,a as Y,J as ee,L as A,M as v,W as _,i as te,b as ae,c as re,R as oe,d as se,e as ie,o as ne}from"../chunks/chunk-Bk72g4MP.js";import{n as le}from"../chunks/chunk-WD3JI1jU.js";import"../chunks/chunk-1XAUErmB.js";import{P as de}from"../chunks/chunk-YOWuXBNs.js";import{s as x}from"../chunks/chunk-CWHWgX45.js";import{a as T,c as D,R as g}from"../chunks/chunk-xmHUA9KJ.js";import{s as y}from"../chunks/chunk-DbJyLhLd.js";import{T as ce,N as pe}from"../chunks/chunk-DvFhL6PB.js";import{N as me}from"../chunks/chunk-CqRfpq3T.js";import{I as ue}from"../chunks/chunk-0NfaHWtZ.js";import{s as fe}from"../chunks/chunk-CLIwDxtA.js";import{c as xe}from"../chunks/chunk-CqF8j4Ky.js";/* empty css                      */import"../chunks/chunk-CzcYWzuz.js";import"../chunks/chunk-DvHZjy6w.js";import"../chunks/chunk-DBQ3R7cM.js";import"../chunks/chunk-DtLa94aX.js";import"../chunks/chunk-D70cBfnA.js";import"../chunks/chunk-CZXMMV0e.js";import"../chunks/chunk-Ctd1kwdX.js";import"../chunks/chunk-B1W2AE3s.js";import"../chunks/chunk-BaJ2QHzz.js";import"../chunks/chunk-8V22sSaH.js";import"../chunks/chunk-CSac1xwH.js";import"../chunks/chunk-CPin5WDQ.js";import"../chunks/chunk-3B-y_MHH.js";import"../chunks/chunk-6ds1OZUF.js";import"../chunks/chunk-3L7g8qmj.js";import"../chunks/chunk-DUqgWGpU.js";import"../chunks/chunk-rkAEyc-z.js";/* empty css                      *//* empty css                      */import"../chunks/chunk-h5dedJUR.js";import"../chunks/chunk-DsWTEMC-.js";import"../chunks/chunk-C3e4t58V.js";import"../chunks/chunk-Sjgz7KHQ.js";import"../chunks/chunk-CGG52H9N.js";import"../chunks/chunk-DQnv03Ih.js";var I={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const L={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:O("overlay")},ge=q((r,{zIndex:o})=>({root:{"--lo-z-index":o==null?void 0:o.toString()}})),R=$((r,o)=>{const a=B("LoadingOverlay",L,r),{classNames:s,className:t,style:c,styles:p,unstyled:n,vars:f,transitionProps:m,loaderProps:b,overlayProps:l,visible:j,zIndex:z,...C}=a,k=V(),h=F({name:"LoadingOverlay",classes:I,props:a,className:t,style:c,classNames:s,styles:p,unstyled:n,vars:f,varsResolver:ge}),U={...L.overlayProps,...l};return e.jsx(H,{transition:"fade",...m,mounted:!!j,children:M=>e.jsxs(S,{...h("root",{style:M}),ref:o,...C,children:[e.jsx(W,{...h("loader"),unstyled:n,...b}),e.jsx(E,{...U,...h("overlay"),darkHidden:!0,unstyled:n,color:(l==null?void 0:l.color)||k.white}),e.jsx(E,{...U,...h("overlay"),lightHidden:!0,unstyled:n,color:(l==null?void 0:l.color)||k.colors.dark[5]})]})})});R.classes=I;R.displayName="@mantine/core/LoadingOverlay";const w={title:"Спасибо за ваш отзыв!",description:"Спасибо за ваш отзыв!",image:"/images/success-base-man.webp"},he=({title:r=w.title,description:o=w.description,image:a=w.image,slots:s})=>e.jsxs(S,{className:x.box,children:[e.jsx(Q,{className:x.image,w:145,"aria-hidden":!0,src:a,alt:r}),e.jsx(X,{className:x.title,order:3,children:r}),e.jsx(i,{className:x.text,children:o}),e.jsx(S,{className:x.action,children:s==null?void 0:s.action})]}),ye=d.object({name:d.string().min(1,{message:"Имя обязательно"}),text:d.string().min(1,{message:"Текст отзыва обязателен"}),informativeness_rate:d.number().min(1,{message:"Поле обязательно"}),convenience_rate:d.number().min(1,{message:"Поле обязательно"}),accuracy_rate:d.number().min(1,{message:"Поле обязательно"}),recommendability_rate:d.number().min(1,{message:"Поле обязательно"}),satisfaction_rate:d.number().min(1,{message:"Поле обязательно"})}),ve=()=>{const{routeParams:{userReport:r}}=J(),[o,a]=P([T.reviewCreated,T.$isFormSubmittedSuccessfully]),s=P(D.$pending),t=Z({mode:"controlled",initialValues:{name:"",text:"",user_report:r??"",informativeness_rate:0,convenience_rate:0,accuracy_rate:0,recommendability_rate:0,satisfaction_rate:0},validate:G(ye)}),c={name:"name",key:t.key("name"),label:"Имя",placeholder:"Как к вам обращаться?",...t.getInputProps("name")},p={name:"text",key:t.key("text"),label:"Ваш отзыв",placeholder:"Опишите ваш опыт прохождения теста",...t.getInputProps("text")},n={name:"informativeness_rate",key:t.key("informativeness_rate"),label:"Полнота информации",...t.getInputProps("informativeness_rate")},f={name:"convenience_rate",key:t.key("convenience_rate"),label:"Удобство прохождения",...t.getInputProps("convenience_rate")},m={name:"accuracy_rate",key:t.key("accuracy_rate"),label:"Точность результатов",...t.getInputProps("accuracy_rate")},b={name:"recommendability_rate",key:t.key("recommendability_rate"),label:"Готовность рекомендовать друзьям",...t.getInputProps("recommendability_rate")},l={name:"satisfaction_rate",key:t.key("satisfaction_rate"),label:"Удовлетворенность результатом",...t.getInputProps("satisfaction_rate")},j=t.onSubmit(z=>{o(z),a&&t.reset()});return{nameInputProps:c,textInputProps:p,informativenessRateRatingProps:n,convenienceRateProps:f,accuracyRateProps:m,recommendabilityRateProps:b,satisfactionRateProps:l,onSubmit:j,isLoading:s}},Se=({slots:r})=>{const{nameInputProps:o,textInputProps:a,informativenessRateRatingProps:s,satisfactionRateProps:t,convenienceRateProps:c,accuracyRateProps:p,recommendabilityRateProps:n,onSubmit:f,isLoading:m}=ve();return e.jsxs(e.Fragment,{children:[e.jsx(R,{visible:m,overlayProps:{radius:"sm",blur:2}}),e.jsxs("form",{onSubmit:f,children:[e.jsxs(u,{className:y.stack,children:[e.jsx(K,{radius:"xs",size:"md",classNames:y,...o}),e.jsx(ce,{rows:4,radius:"xs",size:"md",classNames:y,...a,mb:"md"}),e.jsxs(u,{gap:"3xl",children:[e.jsxs(u,{gap:"xxs",children:[e.jsx(i,{fw:"bold",children:s.label}),e.jsx(g,{size:"xl",...s}),s.error&&e.jsx(i,{fz:14,c:"red",children:"Поле обязательно"})]}),e.jsxs(u,{gap:"xxs",children:[e.jsx(i,{fw:"bold",children:c.label}),e.jsx(g,{size:"xl",...c}),c.error&&e.jsx(i,{fz:14,c:"red",children:"Поле обязательно"})]}),e.jsxs(u,{gap:"xxs",children:[e.jsx(i,{fw:"bold",children:p.label}),e.jsx(g,{size:"xl",...p}),p.error&&e.jsx(i,{fz:14,c:"red",children:"Поле обязательно"})]}),e.jsxs(u,{gap:"xxs",children:[e.jsx(i,{fw:"bold",children:n.label}),e.jsx(g,{size:"xl",...n}),n.error&&e.jsx(i,{fz:14,c:"red",children:"Поле обязательно"})]}),e.jsxs(u,{gap:"xxs",children:[e.jsx(i,{fw:"bold",children:t.label}),e.jsx(g,{size:"xl",...t}),t.error&&e.jsx(i,{fz:14,c:"red",children:"Поле обязательно"})]})]})]}),e.jsxs(S,{className:y.controls,children:[e.jsx(Y,{size:"md",disabled:m,loading:m,type:"submit",children:"Отправить"}),r==null?void 0:r.action]})]})]})},Pe=ee(()=>{const r=A(!1,{name:"$isSubmitted",sid:"9uinjp"}),o=A([],{name:"$comments",sid:"-tk2hgq"});return v({and:[{clock:_.finished.success,fn:({result:a})=>(a==null?void 0:a.left_comments)??[],target:o}],or:{sid:"xnhzlm"}}),v({and:[{clock:o,source:T.$currentReviewId,fn:(a,s)=>!!(s!=null&&s.filter(({user_report:t})=>t===a).length),target:r}],or:{sid:"xqsr5s"}}),v({and:[{clock:D.finished.success,fn:()=>{},target:_.start}],or:{sid:"y66zrw"}}),{$isSubmitted:r}}),Te=()=>{const{pending:r,stale:o}=P(_),[a]=P([Pe.$isSubmitted]);return r||o?e.jsx(de,{}):e.jsxs(ue,{maw:850,className:a?fe.root:"",title:!a&&"Оставьте отзыв",text:!a&&"Поделитесь вашим мнением о прохождении теста. Будем рады услышать вас!",image:a?void 0:"/review/question-bubble",children:[!a&&e.jsx(Se,{slots:{action:e.jsx(me,{})}}),a&&e.jsx(he,{description:"Благодарим вас за то, что поделились своим мнением! Мы высоко ценим любую обратную связь и стараемся использовать её для улучшения нашего сервиса.",image:"/review/star",slots:{action:e.jsx(pe,{size:"md",onClick:()=>le.back(),fullWidth:!0,children:"Вернуться назад"})}})]})};function be(){return e.jsx(Te,{})}const je=Object.freeze(Object.defineProperty({__proto__:null,default:be},Symbol.toStringTag,{value:"Module"})),N=xe();v({and:[{clock:N,fn:r=>r.routeParams.userReport,target:T.$currentReviewId}],or:{sid:"-ombeai"}});const we=Object.freeze(Object.defineProperty({__proto__:null,pageStarted:N},Symbol.toStringTag,{value:"Module"})),ct={isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:{server:!0}}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/onRenderClient",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:ne}},onPageTransitionStart:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionStart.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:ie}},onPageTransitionEnd:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionEnd.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:se}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/review/@userReport/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:je}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/config",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},Layout:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/src/widgets/RootLayout/index.tsx",fileExportPathToShowToUser:["RootLayout"]}],valueSerialized:[{type:"pointer-import",value:oe}]},title:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","title"]},valueSerialized:{type:"js-serialized",value:"Cognitive Lab"}},lang:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","lang"]},valueSerialized:{type:"js-serialized",value:"ru"}},onBeforeRenderClient:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/pages/+onBeforeRenderClient.ts",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"plus-file",exportValues:re}]},Wrapper:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/pages/+Wrapper.tsx",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"plus-file",exportValues:ae}]},reactStrictMode:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","reactStrictMode"]},valueSerialized:{type:"js-serialized",value:!1}},Loading:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/Loading",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:te}},pageStarted:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/review/@userReport/+pageStarted.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:we}}};export{ct as configValuesSerialized};
