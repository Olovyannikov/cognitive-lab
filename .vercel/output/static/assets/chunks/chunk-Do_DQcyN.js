import{w as n,aT as w,aU as v,H as g,A as m,O as h,k as p,F as R,G as k,J as y,I as o,K as M,L as $,t as s,aV as x}from"./chunk-QxFzsHvx.js";import{i as F}from"./chunk-DsWTEMC-.js";n({sid:"-juon18",fn:()=>h({effect:p(a=>({url:m.surveys.comments,params:a??{}}))}),name:"getReviewsQuery",method:"createQuery"});const i=n({sid:"-sexnrd",fn:()=>w({effect:v(a=>({url:m.surveys.comments,method:g.POST,body:a}))}),name:"createReviewMutation",method:"createMutation"}),q=R(()=>{const a=k({and:[],or:{name:"ReviewGate",sid:"-yi21jx"}}),c=y({name:"reviewCreated",sid:"dr316a"}),t=o(!1,{name:"$isFormSubmittedSuccessfully",sid:"-mo6ky0"}),r=o(!1,{name:"$hasError",sid:"-7we9hq"}),f=o(null,{name:"$currentReviewId",sid:"-7pgqwc"}),u=o([],{name:"$allReviews",sid:"-pxt3r2"}),d=M(({message:e,isError:l})=>{$.show({title:l?"Произошла ошибка":"Успешно!",message:e,color:l?"red":"blue"})},{name:"showMessageFx",sid:"bospez"});return s({and:[{clock:c,target:i.start}],or:{sid:"-481n4t"}}),s({and:[{clock:i.finished.success,fn:()=>!0,target:t}],or:{sid:"-3tqzpf"}}),s({and:[{clock:a.close,fn:()=>!1,target:t}],or:{sid:"-3ewjoo"}}),s({and:[{clock:i.finished.failure,fn:({error:e})=>F(e)?e.data.message:"Произошла ошибка",target:r}],or:{sid:"-3bls4i"}}),s({and:[{clock:t,filter:e=>e===!0,fn:()=>({message:"Отзыв успешно отправлен!",isError:!1}),target:d}],or:{sid:"-2wrc3r"}}),s({and:[{clock:r,filter:e=>e!==!1,fn:e=>({message:e===!1?"Произошла ошибка":e,isError:!0}),target:d}],or:{sid:"-2fpppk"}}),s({and:[{clock:n({sid:"tpvj24",fn:()=>x(r,300),name:"clock",method:"delay"}),target:r.reinit}],or:{sid:"-1yo3bd"}}),{reviewCreated:c,$isFormSubmittedSuccessfully:t,ReviewGate:a,$currentReviewId:f,$allReviews:u}});export{q as R,i as c};
