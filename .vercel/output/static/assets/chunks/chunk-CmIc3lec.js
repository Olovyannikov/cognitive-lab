import{w as d,O as y,k as $,bl as p,bm as F,$ as b,n as o,p as f,bn as P,z as s}from"./chunk-B324kPJu.js";import"./chunk-DjYNPCxD.js";import{i as k}from"./chunk-BkeKN5IP.js";const c=d({sid:"-iugphm",fn:()=>y({effect:$(()=>({url:"/surveys/questions"}))}),name:"getQuestionsQuery",method:"createQuery"}),T=d({sid:"-ee19bn",fn:()=>p({effect:F(e=>({url:"/surveys/answers/submit",method:b.POST,body:e}))}),name:"submitAnswersMutation",method:"createMutation"});var x=Array.isArray;const a=o(1,{name:"$currentPage",sid:"-t39qe6"}),h=o(0,{name:"$currentProgress",sid:"g2cpy7"}),w=o(null,{name:"$currentQuestion",sid:"-ozfo0r"}),g=o(null,{name:"$currentValue",sid:"-pfnhbu"}),t=o({answers:[]},{name:"$scaleForm",sid:"r4pt0u"}),i=f({name:"scaleFormFieldChanged",sid:"19n6lz"}),l=f({name:"formPageChanged",sid:"-2h0465"}),v=d({sid:"-idirtm",fn:()=>P(i,250),name:"delayedFormFieldChanged",method:"delay"});s({and:[{clock:[a,c.$data],source:{page:a,questions:c.$data},fn:({page:e,questions:r})=>r?r[e-1]:null,target:w}],or:{sid:"shnxrb"}});s({and:[{clock:i,source:t,fn:(e,r)=>(e.answers[r.index]=r,{...e}),target:t}],or:{sid:"t0cxxl"}});s({and:[{clock:v,source:a,filter:(e,r)=>!(r.isMultiple||r.isSingle),fn:e=>e+1,target:l}],or:{sid:"thekbs"}});s({and:[{clock:i,source:{form:t,page:a},filter:(e,r)=>!(r.isMultiple||r.isSingle),fn:({form:e,page:r})=>{const u=r-1;return e.answers&&e.answers.length>0&&"value"in e.answers[u].answer&&e.answers[u].answer.value?e.answers[u].answer.value:null},target:g}],or:{sid:"txclj9"}});s({and:[{clock:[t,l],source:{form:t,page:a},fn:({form:{answers:e},page:r},u)=>{var m;const n=(k(u)?u:r)-1;return(m=e[n])!=null&&m.answer?e&&e[n].answer&&x(e[n].answer)||e&&e.length>0&&e[n].isSingle?e[n].answer:e&&e.length>0&&"value"in e[n].answer?e[n].answer.value:null:null},target:g}],or:{sid:"uuw1qa"}});s({and:[{clock:l,fn:e=>(window.scrollTo(0,0),e),target:a}],or:{sid:"et4qr1"}});s({and:[{clock:t,source:{questions:c.$data,form:t},fn:({questions:e,form:{answers:r}})=>Number((r.length/((e==null?void 0:e.length)??0)*100).toFixed(0)),target:h}],or:{sid:"ey2w3a"}});const A={$currentPage:a,$currentProgress:h,$currentQuestion:w,$currentValue:g,$scaleForm:t,scaleFormFieldChanged:i,formPageChanged:l};export{A as T,c as g,x as i,T as s};
