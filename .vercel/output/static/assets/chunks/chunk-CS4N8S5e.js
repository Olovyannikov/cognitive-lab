import{F as P,H as o,r as X,I as pe,J as D,O as ee,K as ae,M as te,V as ge,j as c,N as V,P as he,S as ye,T,B as ve,C as ke,Q as xe,W as M,X as Pe,Y as re,Z as be,_ as l,$ as q,a0 as we,a1 as Ee,a2 as $e,a3 as G,a4 as je}from"./chunk-BgruTbUp.js";import{M as Se}from"./chunk-BgOD01mS.js";import{s as m}from"./chunk-BvjKq-Jn.js";import{G as Me}from"./chunk-CJaGQ0Dq.js";import{C as Ne}from"./chunk-DwzEN7TF.js";import{I as ze}from"./chunk-noQZaa3j.js";import"./chunk-BImes97-.js";const Be=()=>P({name:"createPageStart",sid:"53e7vg"}),Ae=new Map([["bold",o.createElement(o.Fragment,null,o.createElement("path",{d:"M224.49,136.49l-72,72a12,12,0,0,1-17-17L187,140H40a12,12,0,0,1,0-24H187L135.51,64.48a12,12,0,0,1,17-17l72,72A12,12,0,0,1,224.49,136.49Z"}))],["duotone",o.createElement(o.Fragment,null,o.createElement("path",{d:"M216,128l-72,72V56Z",opacity:"0.2"}),o.createElement("path",{d:"M221.66,122.34l-72-72A8,8,0,0,0,136,56v64H40a8,8,0,0,0,0,16h96v64a8,8,0,0,0,13.66,5.66l72-72A8,8,0,0,0,221.66,122.34ZM152,180.69V75.31L204.69,128Z"}))],["fill",o.createElement(o.Fragment,null,o.createElement("path",{d:"M221.66,133.66l-72,72A8,8,0,0,1,136,200V136H40a8,8,0,0,1,0-16h96V56a8,8,0,0,1,13.66-5.66l72,72A8,8,0,0,1,221.66,133.66Z"}))],["light",o.createElement(o.Fragment,null,o.createElement("path",{d:"M220.24,132.24l-72,72a6,6,0,0,1-8.48-8.48L201.51,134H40a6,6,0,0,1,0-12H201.51L139.76,60.24a6,6,0,0,1,8.48-8.48l72,72A6,6,0,0,1,220.24,132.24Z"}))],["regular",o.createElement(o.Fragment,null,o.createElement("path",{d:"M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z"}))],["thin",o.createElement(o.Fragment,null,o.createElement("path",{d:"M218.83,130.83l-72,72a4,4,0,0,1-5.66-5.66L206.34,132H40a4,4,0,0,1,0-8H206.34L141.17,58.83a4,4,0,0,1,5.66-5.66l72,72A4,4,0,0,1,218.83,130.83Z"}))]]);var Oe=Object.defineProperty,_e=Object.defineProperties,Le=Object.getOwnPropertyDescriptors,K=Object.getOwnPropertySymbols,Te=Object.prototype.hasOwnProperty,Fe=Object.prototype.propertyIsEnumerable,U=(e,a,r)=>a in e?Oe(e,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[a]=r,De=(e,a)=>{for(var r in a||(a={}))Te.call(a,r)&&U(e,r,a[r]);if(K)for(var r of K(a))Fe.call(a,r)&&U(e,r,a[r]);return e},He=(e,a)=>_e(e,Le(a));const oe=X.forwardRef((e,a)=>o.createElement(pe,He(De({ref:a},e),{weights:Ae})));oe.displayName="ArrowRight";const N=D({sid:"8wrxdv",fn:()=>ee({initialData:{},effect:ae(e=>({url:te.BLOG_POSTS,params:{post_type:"post",page_size:Number(e.page_size),...e}})),mapData:e=>{var r;if(!e.result)return{};const a=(r=e.result)==null?void 0:r.payload.toSorted((n,u)=>Number(u.pinned)-Number(n.pinned));return{...e.result,payload:a}}}),name:"getBlogPostsQuery",method:"createQuery"}),aa=D({sid:"fv08ym",fn:()=>ee({effect:ae(e=>({url:te.BLOG_POST_BY_ID(e)}))}),name:"getBlogPostByIdQuery",method:"createQuery"});D({sid:"pod8va",fn:()=>ge(N),name:"none",method:"cache"});const Ce=X.memo(({post:e})=>c.jsx(Me.Col,{span:{base:12,lg:e.pinned?12:4},className:V(e.pinned&&m.pinned),children:c.jsx(Ne,{withBorder:!0,component:"a",href:`/blog/${e.id}`,children:c.jsxs(he,{className:V(m.card,e.pinned&&m.row),gap:"md",children:[c.jsx(ze,{className:m.image,fit:"cover",radius:"xs",src:e.thumbnail_image,alt:e.title}),c.jsxs(ye,{className:m.preview,justify:"center",children:[c.jsx(T,{className:m.title,children:e.title}),c.jsx(ve,{className:m.text,children:c.jsx(Se,{options:{overrides:{h1:a=>c.jsx(T,{order:1,className:m.title,children:a.children}),h2:a=>c.jsx(T,{order:2,className:m.title,children:a.children}),p:a=>c.jsx(ke,{className:m.text,children:a.children})}},children:e.body.data})}),c.jsx(xe,{variant:"subtle",rightSection:c.jsx(oe,{}),className:m.more,children:"Читать"})]})]})})}));Ce.displayName="BlogPostCard";const H=M(1,{name:"$currentPage",sid:"-cmouur"}),se=P({name:"pageChanged",sid:"-zeuriq"}),ne=M(10,{name:"$pageSize",sid:"ao2pea"}),Ze=Pe(N.finished.success.map(e=>e.result.total_pages),1,{name:"$totalPages",sid:"rfqaz7"}),Ie=re(async()=>{await be("/blog?page=1")},{name:"redirectToMainBlogPostPageFx",sid:"-wsaz47"});l({and:[{clock:se,target:H}],or:{sid:"-vpk8hu"}});l({and:[{clock:H,source:{page_size:ne},fn:({page_size:e},a)=>({page:a,page_size:e}),target:N.refresh}],or:{sid:"-vb9l2g"}});l({and:[{clock:N.finished.failure,target:Ie}],or:{sid:"-uurr9m"}});const ie={$currentPage:H,$pageSize:ne,pageChanged:se,$totalPages:Ze};var Y=new Map,J=e=>([a],r)=>e(r,a),le=P();function Qe(e){var{adapter:a,store:r,source:n=r,target:u=r,clock:z=n,done:h,fail:b=le,finally:y,pickup:v,context:p,key:k,keyPrefix:w="",contract:fe}=e;if(!a)throw Error("Adapter is not defined");if(!n)throw Error("Store or source is not defined");if(!u)throw Error("Target is not defined");if(!k&&n.shortName===n.id)throw Error("Key or name is not defined");if(n===u&&!q.store(n))throw Error("Source must be different from target");e.def===void 0&&q.store(n)&&(e.def=n.defaultState);var B="factory"in a?a(e):a,E=k||n.shortName,A=function(d,g){var i=Y.get(d);i===void 0&&(i=new Map,Y.set(d,i));var f=i.get(g);return f!==void 0||(f=M(null,{serialize:"ignore"}),i.set(g,f)),f}(B.keyArea||B,w+E),Z=we(),I=()=>Ee(Z),O=d=>({status:g="fail",params:i,result:f,error:x})=>g==="done"?{status:g,key:E,keyPrefix:w,operation:d,value:d==="get"?f:i}:{status:g,key:E,keyPrefix:w,operation:d,value:typeof i=="function"?void 0:i,error:x};return $e(Z,()=>{var d=M([],{serialize:"ignore"}),g=B(w+E,t=>{R(t)}),i=G({source:d,effect:J(g.get)}),f=G({source:d,effect:J(g.set)}),x=re((t=>s=>!t||s===void 0||("isData"in t?t.isData(s):t(s))?s:(()=>{throw"getErrorMessages"in t?t.getErrorMessages(s):void 0})())(fe)),$=P(),Q=P(),R=i;d.updates.watch(()=>{R=je(i,{safe:!0})}),l({clock:z,source:n,target:Q}),l({clock:Q,source:A,filter:(t,s)=>s!==t,fn:(t,s)=>s,target:f}),l({clock:[i.doneData,l(f,f.done)],filter:t=>t!==void 0,target:A}),l({clock:[i.doneData,A],target:x}),l({clock:x.doneData,filter:t=>t!==void 0,target:u}),l({clock:[i.finally.map(O("get")),f.finally.map(O("set")),x.fail.map(O("validate"))],target:$}),y&&l({clock:$,target:y}),h&&l({clock:$,filter:({status:t})=>t==="done",fn:({key:t,keyPrefix:s,operation:_,value:L})=>({key:t,keyPrefix:s,operation:_,value:L}),target:h}),l({clock:$,filter:({status:t})=>t==="fail",fn:({key:t,keyPrefix:s,operation:_,error:L,value:me})=>({key:t,keyPrefix:s,operation:_,error:L,value:me}),target:b}),p&&d.on(p,([t],s)=>[s===void 0?t:s]),v?(l({clock:v,fn:()=>{},target:i}),d.on(v,([t],s)=>[s===void 0?t:s])):i()}),I.unsubscribe=I}le.watch(e=>console.error(e.error));function ce({keyArea:e=""}={}){var a=()=>({get(){},set(){}});return a.keyArea=e,a.noop=!0,a}ce.factory=!0;var F,j,Re=Symbol(),S=new Map,Ve=e=>location.pathname+(e+""?"?"+e:"")+(location.hash&&location.hash!=="#"?location.hash:""),qe=(e,a)=>history.pushState(a?null:history.state,"",Ve(e));function W(e,a){if(j=void 0,S.size){var r=new URLSearchParams(location.search);for(var[n,u]of S.entries())u!=null?r.set(n,`${u}`):r.delete(n);S.clear(),e(r,a==="erase")}}function de(e){return typeof history<"u"&&typeof location<"u"?function({method:a=qe,state:r,serialize:n,deserialize:u,def:z=null,timeout:h}){var b=(y,v)=>(typeof addEventListener<"u"&&addEventListener("popstate",()=>setTimeout(v,0)),{get(){var p=new URLSearchParams(location.search).get(y);return p?u?u(p):p:z},set(p){if(S.set(y,n?n(p):p),h===void 0)return clearTimeout(F),W(a,r);var k=Date.now()+h;(j===void 0||j>k)&&(clearTimeout(F),j=k,F=setTimeout(W,h,a,r))}});return b.keyArea=Re,b}({...e}):ce({keyArea:"query"})}function Ge(e){return a=>Qe({adapter:de,...e,...a})}de.factory=!0;var ue=Ge();const C=Be();ue({key:"page_size",pickup:C,store:ie.$pageSize,deserialize:e=>Number(e)});ue({key:"page",pickup:C,store:ie.$currentPage,deserialize:e=>Number(e)});const ta=Object.freeze(Object.defineProperty({__proto__:null,pageStarted:C},Symbol.toStringTag,{value:"Module"}));export{ie as B,Ce as a,aa as b,N as g,ta as i};
