import{w as y,O,k as S,aT as $,aU as v,H as F,F as P,I as u,J as h,aV as k,t as o}from"./chunk-QxFzsHvx.js";import"./chunk-zopl9eKe.js";var M=typeof global=="object"&&global&&global.Object===Object&&global,C=typeof self=="object"&&self&&self.Object===Object&&self,Q=M||C||Function("return this")(),m=Q.Symbol,p=Object.prototype,x=p.hasOwnProperty,A=p.toString,l=m?m.toStringTag:void 0;function N(r){var d=x.call(r,l),g=r[l];try{r[l]=void 0;var i=!0}catch{}var n=A.call(r);return i&&(d?r[l]=g:delete r[l]),n}var q=Object.prototype,H=q.toString;function R(r){return H.call(r)}var V="[object Null]",_="[object Undefined]",T=m?m.toStringTag:void 0;function z(r){return r==null?r===void 0?_:V:T&&T in Object(r)?N(r):R(r)}function G(r){return r!=null&&typeof r=="object"}var I=Array.isArray,U="[object Number]";function D(r){return typeof r=="number"||G(r)&&z(r)==U}const b=y({sid:"-iugphm",fn:()=>O({effect:S(()=>({url:"/surveys/questions"}))}),name:"getQuestionsQuery",method:"createQuery"}),L=y({sid:"-ee19bn",fn:()=>$({effect:v(r=>({url:"/surveys/answers/submit",method:F.POST,body:r}))}),name:"submitAnswersMutation",method:"createMutation"}),B=P(()=>{const r=u(1,{name:"$currentPage",sid:"-ro4v45"}),d=u(0,{name:"$currentProgress",sid:"hhhl88"}),g=u(null,{name:"$currentQuestion",sid:"-nkasqq"}),i=u(null,{name:"$currentValue",sid:"-o0im1t"}),n=u({answers:[]},{name:"$scaleForm",sid:"sjuosy"}),c=h({name:"scaleFormFieldChanged",sid:"cmq463"}),f=h({name:"formPageChanged",sid:"-11v8w4"}),w=y({sid:"-gydwjl",fn:()=>k(c,250),name:"delayedFormFieldChanged",method:"delay"});return o({and:[{clock:[r,b.$data],source:{page:r,questions:b.$data},fn:({page:e,questions:t})=>t?t[e-1]:null,target:g}],or:{sid:"sjbbmu"}}),o({and:[{clock:c,source:n,fn:(e,t)=>(e.answers[t.index]=t,{...e}),target:n}],or:{sid:"t20bt4"}}),o({and:[{clock:w,source:r,filter:(e,t)=>!(t.isMultiple||t.isSingle),fn:e=>e+1,target:f}],or:{sid:"tj1y7b"}}),o({and:[{clock:c,source:{form:n,page:r},filter:(e,t)=>!(t.isMultiple||t.isSingle),fn:({form:e,page:t})=>{const s=t-1;return e.answers&&e.answers.length>0&&"value"in e.answers[s].answer&&e.answers[s].answer.value?e.answers[s].answer.value:null},target:i}],or:{sid:"tyzzes"}}),o({and:[{clock:[n,f],source:{form:n,page:r},fn:({form:{answers:e},page:t},s)=>{var j;const a=(D(s)?s:t)-1;return(j=e[a])!=null&&j.answer?e&&e[a].answer&&I(e[a].answer)||e&&e.length>0&&e[a].isSingle?e[a].answer:e&&e.length>0&&"value"in e[a].answer?e[a].answer.value:null:null},target:i}],or:{sid:"uwjflt"}}),o({and:[{clock:f,fn:e=>(window.scrollTo(0,0),e),target:r}],or:{sid:"eus4mk"}}),o({and:[{clock:n,source:{questions:b.$data,form:n},fn:({questions:e,form:{answers:t}})=>Number((t.length/((e==null?void 0:e.length)??0)*100).toFixed(0)),target:d}],or:{sid:"fb9yfe"}}),{$currentPage:r,$currentProgress:d,$currentQuestion:g,$currentValue:i,$scaleForm:n,scaleFormFieldChanged:c,formPageChanged:f}});export{B as T,I as a,z as b,b as g,G as i,L as s};
