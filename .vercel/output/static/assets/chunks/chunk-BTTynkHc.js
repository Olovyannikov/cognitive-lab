import{w as d,O as w,k as y,b5 as F,b6 as $,n as u,p as f,ba as b,M as s}from"./chunk-CsMDMxDl.js";import{H as P}from"./chunk-MlOg0Rm7.js";import"./chunk-qfJGOMFl.js";import{i as k}from"./chunk-BkeKN5IP.js";const c=d({sid:"-iugphm",fn:()=>w({effect:y(()=>({url:"/surveys/questions"}))}),name:"getQuestionsQuery",method:"createQuery"}),A=d({sid:"-ee19bn",fn:()=>F({effect:$(e=>({url:"/surveys/answers/submit",method:P.POST,body:e}))}),name:"submitAnswersMutation",method:"createMutation"});var x=Array.isArray;const a=u(1,{name:"$currentPage",sid:"-t39qe6"}),h=u(0,{name:"$currentProgress",sid:"g2cpy7"}),p=u(null,{name:"$currentQuestion",sid:"-ozfo0r"}),m=u(null,{name:"$currentValue",sid:"-pfnhbu"}),t=u({answers:[]},{name:"$scaleForm",sid:"r4pt0u"}),i=f({name:"scaleFormFieldChanged",sid:"19n6lz"}),l=f({name:"formPageChanged",sid:"-2h0465"}),v=d({sid:"-idirtm",fn:()=>b(i,250),name:"delayedFormFieldChanged",method:"delay"});s({and:[{clock:[a,c.$data],source:{page:a,questions:c.$data},fn:({page:e,questions:r})=>r?r[e-1]:null,target:p}],or:{sid:"shnxrb"}});s({and:[{clock:i,source:t,fn:(e,r)=>(e.answers[r.index]=r,{...e}),target:t}],or:{sid:"t0cxxl"}});s({and:[{clock:v,source:a,filter:(e,r)=>!(r.isMultiple||r.isSingle),fn:e=>e+1,target:l}],or:{sid:"thekbs"}});s({and:[{clock:i,source:{form:t,page:a},filter:(e,r)=>!(r.isMultiple||r.isSingle),fn:({form:e,page:r})=>{const o=r-1;return e.answers&&e.answers.length>0&&"value"in e.answers[o].answer&&e.answers[o].answer.value?e.answers[o].answer.value:null},target:m}],or:{sid:"txclj9"}});s({and:[{clock:[t,l],source:{form:t,page:a},fn:({form:{answers:e},page:r},o)=>{var g;const n=(k(o)?o:r)-1;return(g=e[n])!=null&&g.answer?e&&e[n].answer&&x(e[n].answer)||e&&e.length>0&&e[n].isSingle?e[n].answer:e&&e.length>0&&"value"in e[n].answer?e[n].answer.value:null:null},target:m}],or:{sid:"uuw1qa"}});s({and:[{clock:l,fn:e=>(window.scrollTo(0,0),e),target:a}],or:{sid:"et4qr1"}});s({and:[{clock:t,source:{questions:c.$data,form:t},fn:({questions:e,form:{answers:r}})=>Number((r.length/((e==null?void 0:e.length)??0)*100).toFixed(0)),target:h}],or:{sid:"ey2w3a"}});const S={$currentPage:a,$currentProgress:h,$currentQuestion:p,$currentValue:m,$scaleForm:t,scaleFormFieldChanged:i,formPageChanged:l};export{S as T,c as g,x as i,A as s};
