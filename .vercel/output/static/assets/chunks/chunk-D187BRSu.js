import{Y as r,s as M,Z as P,w as g,O as T,k as S,aX as x,aY as O,H,F as C,I as u,J as h,aZ as V,t as o,am as j,U as k,bw as Z,j as L,v as Q}from"./chunk-71WK7kyK.js";import"./chunk-SLJf21Sb.js";import{i as I}from"./chunk-DGI3hcLu.js";import{s as N}from"./chunk-DcEaSZm4.js";const q=new Map([["bold",r.createElement(r.Fragment,null,r.createElement("path",{d:"M244,56v48a12,12,0,0,1-12,12H184a12,12,0,1,1,0-24H201.1l-19-17.38c-.13-.12-.26-.24-.38-.37A76,76,0,1,0,127,204h1a75.53,75.53,0,0,0,52.15-20.72,12,12,0,0,1,16.49,17.45A99.45,99.45,0,0,1,128,228h-1.37A100,100,0,1,1,198.51,57.06L220,76.72V56a12,12,0,0,1,24,0Z"}))],["duotone",r.createElement(r.Fragment,null,r.createElement("path",{d:"M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z",opacity:"0.2"}),r.createElement("path",{d:"M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1,0-16H211.4L184.81,71.64l-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,0,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60L224,85.8V56a8,8,0,1,1,16,0Z"}))],["fill",r.createElement(r.Fragment,null,r.createElement("path",{d:"M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1-5.66-13.66l17-17-10.55-9.65-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,1,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60l10.93,10L226.34,50.3A8,8,0,0,1,240,56Z"}))],["light",r.createElement(r.Fragment,null,r.createElement("path",{d:"M238,56v48a6,6,0,0,1-6,6H184a6,6,0,0,1,0-12h32.55l-30.38-27.8c-.06-.06-.12-.13-.19-.19a82,82,0,1,0-1.7,117.65,6,6,0,0,1,8.24,8.73A93.46,93.46,0,0,1,128,222h-1.28A94,94,0,1,1,194.37,61.4L226,90.35V56a6,6,0,1,1,12,0Z"}))],["regular",r.createElement(r.Fragment,null,r.createElement("path",{d:"M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1,0-16H211.4L184.81,71.64l-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,0,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60L224,85.8V56a8,8,0,1,1,16,0Z"}))],["thin",r.createElement(r.Fragment,null,r.createElement("path",{d:"M236,56v48a4,4,0,0,1-4,4H184a4,4,0,0,1,0-8h37.7L187.53,68.69l-.13-.12a84,84,0,1,0-1.75,120.51,4,4,0,0,1,5.5,5.82A91.43,91.43,0,0,1,128,220h-1.26A92,92,0,1,1,193,62.84l35,32.05V56a4,4,0,1,1,8,0Z"}))]]);var R=Object.defineProperty,z=Object.defineProperties,_=Object.getOwnPropertyDescriptors,A=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,F=(t,a,s)=>a in t?R(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,Y=(t,a)=>{for(var s in a||(a={}))D.call(a,s)&&F(t,s,a[s]);if(A)for(var s of A(a))U.call(a,s)&&F(t,s,a[s]);return t},B=(t,a)=>z(t,_(a));const $=M.forwardRef((t,a)=>r.createElement(P,B(Y({ref:a},t),{weights:q})));$.displayName="ArrowClockwise";var J=Array.isArray;const p=g({sid:"-iugphm",fn:()=>T({effect:S(()=>({url:"/surveys/questions"}))}),name:"getQuestionsQuery",method:"createQuery"}),re=g({sid:"-ee19bn",fn:()=>x({effect:O(t=>({url:"/surveys/answers/submit",method:H.POST,body:t}))}),name:"submitAnswersMutation",method:"createMutation"}),v=C(()=>{const t=u(1,{name:"$currentPage",sid:"-ro4v45"}),a=u(0,{name:"$currentProgress",sid:"hhhl88"}),s=u(null,{name:"$currentQuestion",sid:"-nkasqq"}),f=u(null,{name:"$currentValue",sid:"-o0im1t"}),y=u(!0,{name:"$isSplashScreenVisible",sid:"-qt5zsl"}),l=u({answers:[]},{name:"$scaleForm",sid:"t0wb75"}),b=h({name:"setSplashScreenVisibility",sid:"-9nrl0p"}),d=h({name:"scaleFormFieldChanged",sid:"dktcyh"}),m=h({name:"formPageChanged",sid:"-3s03q"}),E=g({sid:"-g0anr7",fn:()=>V(d,250),name:"delayedFormFieldChanged",method:"delay"});return o({and:[{clock:b,target:y}],or:{sid:"skewtk"}}),o({and:[{clock:[t,p.$data],source:{page:t,questions:p.$data},fn:({page:e,questions:n})=>n?n[e-1]:null,target:s}],or:{sid:"sypk8y"}}),o({and:[{clock:d,source:l,fn:(e,n)=>(e.answers[n.index]=n,{...e}),target:l}],or:{sid:"thekf8"}}),o({and:[{clock:E,source:t,filter:(e,n)=>!(n.isMultiple||n.isSingle),fn:e=>e+1,target:m}],or:{sid:"tyg6tf"}}),o({and:[{clock:d,source:{form:l,page:t},filter:(e,n)=>!(n.isMultiple||n.isSingle),fn:({form:e,page:n})=>{const c=n-1;return e.answers&&e.answers.length>0&&"value"in e.answers[c].answer&&e.answers[c].answer.value?e.answers[c].answer.value:null},target:f}],or:{sid:"uee80w"}}),o({and:[{clock:[l,m],source:{form:l,page:t},fn:({form:{answers:e},page:n},c)=>{var w;const i=(I(c)?c:n)-1;return(w=e[i])!=null&&w.answer?e&&e[i].answer&&J(e[i].answer)||e&&e.length>0&&e[i].isSingle?e[i].answer:e&&e.length>0&&"value"in e[i].answer?e[i].answer.value:null:null},target:f}],or:{sid:"vbxo7x"}}),o({and:[{clock:m,fn:e=>(window.scrollTo(0,0),e),target:t}],or:{sid:"fa6d8o"}}),o({and:[{clock:l,source:{questions:p.$data,form:l},fn:({questions:e,form:{answers:n}})=>Number((n.length/((e==null?void 0:e.length)??0)*100).toFixed(0)),target:a}],or:{sid:"ff4ikx"}}),{$currentPage:t,$currentProgress:a,$currentQuestion:s,$currentValue:f,$scaleForm:l,scaleFormFieldChanged:d,formPageChanged:m,$isSplashScreenVisible:y,setSplashScreenVisibility:b}}),X=j({target:{surveyId:k.$surveyId,form:v.$scaleForm,page:v.$currentPage,progress:v.$currentProgress,redirect:k.redirectToTestPageFx},fn:t=>{t.surveyId.reinit(),t.form.reinit(),t.page.reinit(),t.progress.reinit(),t.redirect()}}),G={takeTestAgainClicked:X},ae=g({sid:"-voh83l",fn:()=>Z({view:Q,bind:{size:"md",c:"dark.6",color:"dark.6",bg:"transparent",variant:"default",className:N.button,children:"Пройти тест ещё раз",onClick:G.takeTestAgainClicked,leftSection:L.jsx($,{size:20,weight:"bold"})}}),name:"TakeTestAgain",method:"reflect"});export{v as T,G as a,ae as b,p as g,J as i,re as s};
