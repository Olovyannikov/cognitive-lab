import{E as r,r as B,F as Z,H as h,O as S,I as M,J as N,V as C,j as s,K as j,L as I,S as Q,T as p,B as R,A as V,M as D,N as O,P as q,Q as G,W as U,X as Y,Y as f,Z as J,_ as K}from"./chunk-coV-RRqQ.js";import{M as W}from"./chunk-CUg3gPRd.js";import{s as n}from"./chunk-BvjKq-Jn.js";import{G as X}from"./chunk-i0OSn3lD.js";import{C as ee}from"./chunk-Dtq6-oIe.js";import{I as ae}from"./chunk-CA1FNqWn.js";import"./chunk-BOIwQsZN.js";import{c as te}from"./chunk-Bg34ULLz.js";const re=new Map([["bold",r.createElement(r.Fragment,null,r.createElement("path",{d:"M224.49,136.49l-72,72a12,12,0,0,1-17-17L187,140H40a12,12,0,0,1,0-24H187L135.51,64.48a12,12,0,0,1,17-17l72,72A12,12,0,0,1,224.49,136.49Z"}))],["duotone",r.createElement(r.Fragment,null,r.createElement("path",{d:"M216,128l-72,72V56Z",opacity:"0.2"}),r.createElement("path",{d:"M221.66,122.34l-72-72A8,8,0,0,0,136,56v64H40a8,8,0,0,0,0,16h96v64a8,8,0,0,0,13.66,5.66l72-72A8,8,0,0,0,221.66,122.34ZM152,180.69V75.31L204.69,128Z"}))],["fill",r.createElement(r.Fragment,null,r.createElement("path",{d:"M221.66,133.66l-72,72A8,8,0,0,1,136,200V136H40a8,8,0,0,1,0-16h96V56a8,8,0,0,1,13.66-5.66l72,72A8,8,0,0,1,221.66,133.66Z"}))],["light",r.createElement(r.Fragment,null,r.createElement("path",{d:"M220.24,132.24l-72,72a6,6,0,0,1-8.48-8.48L201.51,134H40a6,6,0,0,1,0-12H201.51L139.76,60.24a6,6,0,0,1,8.48-8.48l72,72A6,6,0,0,1,220.24,132.24Z"}))],["regular",r.createElement(r.Fragment,null,r.createElement("path",{d:"M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z"}))],["thin",r.createElement(r.Fragment,null,r.createElement("path",{d:"M218.83,130.83l-72,72a4,4,0,0,1-5.66-5.66L206.34,132H40a4,4,0,0,1,0-8H206.34L141.17,58.83a4,4,0,0,1,5.66-5.66l72,72A4,4,0,0,1,218.83,130.83Z"}))]]);var se=Object.defineProperty,ne=Object.defineProperties,oe=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,le=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable,E=(e,a,t)=>a in e?se(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,ce=(e,a)=>{for(var t in a||(a={}))le.call(a,t)&&E(e,t,a[t]);if(w)for(var t of w(a))ie.call(a,t)&&E(e,t,a[t]);return e},de=(e,a)=>ne(e,oe(a));const z=B.forwardRef((e,a)=>r.createElement(Z,de(ce({ref:a},e),{weights:re})));z.displayName="ArrowRight";const m=h({sid:"8wrxdv",fn:()=>S({initialData:{},effect:M(e=>({url:N.BLOG_POSTS,params:{post_type:"post",page_size:Number(e.page_size),...e}})),mapData:e=>{var t;if(!e.result)return{};const a=(t=e.result)==null?void 0:t.payload.toSorted((o,l)=>Number(l.pinned)-Number(o.pinned));return{...e.result,payload:a}}}),name:"getBlogPostsQuery",method:"createQuery"}),Be=h({sid:"fv08ym",fn:()=>S({effect:M(e=>({url:N.BLOG_POST_BY_ID(e)}))}),name:"getBlogPostByIdQuery",method:"createQuery"});h({sid:"pod8va",fn:()=>C(m),name:"none",method:"cache"});const me=B.memo(({post:e})=>s.jsx(X.Col,{span:{base:12,lg:e.pinned?12:4},className:j(e.pinned&&n.pinned),children:s.jsx(ee,{withBorder:!0,component:"a",href:`/blog/${e.id}`,children:s.jsxs(I,{className:j(n.card,e.pinned&&n.row),gap:"md",children:[s.jsx(ae,{className:n.image,fit:"cover",radius:"xs",src:e.thumbnail_image,alt:e.title}),s.jsxs(Q,{className:n.preview,justify:"center",children:[s.jsx(p,{className:n.title,children:e.title}),s.jsx(R,{className:n.text,children:s.jsx(W,{options:{overrides:{h1:a=>s.jsx(p,{order:1,className:n.title,children:a.children}),h2:a=>s.jsx(p,{order:2,className:n.title,children:a.children}),p:a=>s.jsx(V,{className:n.text,children:a.children})}},children:e.body.data})}),s.jsx(D,{variant:"subtle",rightSection:s.jsx(z,{}),className:n.more,children:"Читать"})]})]})})}));me.displayName="BlogPostCard";const y=O(1,{name:"$currentPage",sid:"-cmouur"}),L=q({name:"pageChanged",sid:"-zeuriq"}),_=O(10,{name:"$pageSize",sid:"ao2pea"}),ue=G(m.finished.success.map(e=>e.result.total_pages),1,{name:"$totalPages",sid:"rfqaz7"}),pe=U(async()=>{await Y("/blog?page=1")},{name:"redirectToMainBlogPostPageFx",sid:"-wsaz47"});f({and:[{clock:L,target:y}],or:{sid:"-vpk8hu"}});f({and:[{clock:y,source:{page_size:_},fn:({page_size:e},a)=>({page:a,page_size:e}),target:m.refresh}],or:{sid:"-vb9l2g"}});f({and:[{clock:m.finished.failure,target:pe}],or:{sid:"-uurr9m"}});const A={$currentPage:y,$pageSize:_,pageChanged:L,$totalPages:ue};var g,c,ge=Symbol(),d=new Map,he=e=>location.pathname+(e+""?"?"+e:"")+(location.hash&&location.hash!=="#"?location.hash:""),fe=(e,a)=>history.pushState(a?null:history.state,"",he(e));function $(e,a){if(c=void 0,d.size){var t=new URLSearchParams(location.search);for(var[o,l]of d.entries())l!=null?t.set(o,`${l}`):t.delete(o);d.clear(),e(t,a==="erase")}}function k(e){return typeof history<"u"&&typeof location<"u"?function({method:a=fe,state:t,serialize:o,deserialize:l,def:F=null,timeout:u}){var b=(x,H)=>(typeof addEventListener<"u"&&addEventListener("popstate",()=>setTimeout(H,0)),{get(){var i=new URLSearchParams(location.search).get(x);return i?l?l(i):i:F},set(i){if(d.set(x,o?o(i):i),u===void 0)return clearTimeout(g),$(a,t);var P=Date.now()+u;(c===void 0||c>P)&&(clearTimeout(g),c=P,g=setTimeout($,u,a,t))}});return b.keyArea=ge,b}({...e}):K({keyArea:"query"})}function ye(e){return a=>J({adapter:k,...e,...a})}k.factory=!0;var T=ye();const v=te();T({key:"page_size",pickup:v,store:A.$pageSize,deserialize:e=>Number(e)});T({key:"page",pickup:v,store:A.$currentPage,deserialize:e=>Number(e)});const Se=Object.freeze(Object.defineProperty({__proto__:null,pageStarted:v},Symbol.toStringTag,{value:"Module"}));export{A as B,me as a,Be as b,m as g,Se as i};
