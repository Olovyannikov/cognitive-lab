# Factories

Паттерн "Фабрика" — это способ создания объектов без явного указания их конкретных классов. Вместо прямого вызова конструктора, делегируется создание объекта специальной функции-фабрике. Это дает:

1. Гибкость — можно легко менять тип создаваемых объектов;
2. Инкапсуляцию — логика создания скрыта от клиентского кода;
3. Упрощение — единая точка для создания сложных объектов.

### atom.ts

Пример:

```ts
export const atom = <T>(factory: () => T) => factory();
```

Как это работает:

1. `atom` — это функция-фабрика;
2. Она принимает другую функцию (factory), которая знает как создавать объекты;
3. При вызове atom просто выполняет переданную factory и возвращает результат.

Аналог без фабрики:

```javascript
// Прямое создание объекта
const obj = new ConcreteClass();
```

С фабрикой:

```javascript
// Создание через фабрику
const obj = atom(() => new ConcreteClass());
```

Зачем это нужно?

- **Контроль создания** — можно добавить логирование, валидацию, кеширование
- **Абстракция** — клиентский код не зависит от конкретных классов
- **Тестирование** — легко подменить реальные объекты моками

Расширенный пример использования:

```typescript
// Фабрика для создания моделей состояния
const counterModel = atom(() => {
    const count = ref(0);

    const increment = () => count.value++;
    const reset = () => (count.value = 0);

    return { count, increment, reset };
});

// Использование
const { count, increment } = counterModel();
```

Основные преимущества вашей реализации:

- **Универсальность** — работает с любым типом T;
- **Простота** — минималистичная реализация;
- **Ленивая инициализация** — объект создается только при вызове atom().

Где можно применять:

- Создание сложных конфигураций;
- Инициализация состояний приложения;
- Генерация тестовых данных;
- Реализация dependency injection.
